window.__require=function t(e,o,i){function n(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var p="function"==typeof __require&&__require;if(!c&&p)return p(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var l=o[s]={exports:{}};e[s][0].call(l.exports,function(t){return n(e[s][1][t]||t)},l,l.exports,t,e,o,i)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)n(i[s]);return n}({Blood:[function(t,e,o){"use strict";cc._RF.push(e,"15c15bI0aVPu7vYr3sZjY4z","Blood");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/Common/yyComponent"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){this.reset(),this.playAnima()},e.prototype.reset=function(){},e.prototype.reuse=function(){this.reset(),this.playAnima()},e.prototype.unuse=function(){this.reset(),this.stopAnima()},e.prototype.setData=function(){},e.prototype.playAnima=function(){this.node.getComponent(cc.Animation).play()},e.prototype.stopAnima=function(){this.node.getComponent(cc.Animation).stop()},e.prototype.over=function(){s.default.put(this.node)},r([p],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/yyComponent":void 0}],Boss2:[function(t,e,o){"use strict";cc._RF.push(e,"fdf30NrvEpMEreRnLlRuE+k","Boss2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),c=t("../../../Script/Common/GlobalPool"),a=t("../../../Script/GameSpecial/GameEventType"),p=t("../../../Script/GameSpecial/GlobalEnum"),l=t("../CollisComp"),h=t("../prefabScr/Bullet"),u=cc._decorator,f=u.ccclass,d=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direc=cc.v2(0,0),e.speed=120,e.moveDirect=0,e.isLive=!0,e.isMove=!1,e.joints=null,e.muzzle=null,e.shotSpeed=1,e.shotTime=0,e.isShoting=!1,e.posD_value=0,e.actionLimit=null,e.body=null,e.light=null,e.bombPos=null,e.timeCooling=0,e.timeDistance=1,e}return n(e,t),e.prototype.init=function(){this.reset()},e.prototype.reset=function(){this.isLive=!0,this.posD_value=.95,this.actionLimit=null,this.resetLifeBar(),this.customStep=this.stepEmpty},e.prototype.reuse=function(t){this.reset(),t&&t.porb&&(this.posD_value=t.porb)},e.prototype.unuse=function(){},e.prototype.setData=function(){this.setInLevelData({ATK:80,Life:300})},e.prototype.find=function(t){t&&(this.node.scaleX=t.x>0?-1:1,this.direc=t),Math.abs(this.direc.x)<500?this.moveDirect=this.direc.x>0?-1:1:this.moveDirect=0},e.prototype.startGame=function(){this.playAnima("live"),this.customStep=this.dtUp},e.prototype.dtUp=function(t){if(0!=this.moveDirect){this.isMove=!0;var e=this.node.getPosition();e.x+=this.speed*this.moveDirect*t,this.actionLimit&&(e.x<this.actionLimit.x?e.x=this.actionLimit.x:e.x>this.actionLimit.y&&(e.x=this.actionLimit.y)),this.node.setPosition(e)}else this.isMove&&(this.isMove=!1);this.raiseWeapom(),this.isShot(t)},e.prototype.rotateBody=function(t){this.joints.angle=t},e.prototype.raiseWeapom=function(){if(Math.abs(this.direc.x)<800){var t=this.actan2(this.direc);this.node.scaleX<0&&(t=180-t),this.rotateBody(t),this.isShoting=!0}else this.disarm(),this.isShoting=!1},e.prototype.disarm=function(){this.joints.angle=0},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(l.default);e.collisType==p.GlobalEnum.CollisType.bullet&&e.collisGroup==p.GlobalEnum.collisGroup.palyer&&this.beInjured(e.ATK)},e.prototype.beInjured=function(t){var e=this;this.inLevelData.Life>t?(this.inLevelData.Life-=t,this.updateLife()):this.isLive&&(this.inLevelData.Life-=t,this.updateLife(),this.isLive=!1,this.bombPos=this.node.convertToWorldSpaceAR(cc.v2(0,10)),this.customStep=this.setpOver,setTimeout(function(){e.customStep=e.stepEmpty,e.playAnima("die"),setTimeout(function(){e.dieOver()},1100)},5e3))},e.prototype.updateLife=function(){this.emit(a.EventType.ControlEvent.changeUI,{type:"bossLife",value:this.inLevelData.Life/this.originLife})},e.prototype.meadBullet=function(){var t=c.default.get("Bullet");this.muzzle.addChild(t),t.setPosition(cc.v2(0,0));var e=t.getComponent(h.default);return e.setData({group:this.node.group,ATK:this.inLevelData.ATK}),e},e.prototype.gun_Attack=function(){var t=this.meadBullet();this.emit(a.EventType.PlayerEvent.shot,t)},e.prototype.isShot=function(t){this.isShoting&&(this.shotTime-=t,this.shotTime<0&&(this.shotTime=this.shotSpeed,this.gun_Attack()))},e.prototype.setHorizon=function(t){var e=this.node.getPosition();e.y=t+300,this.setPosition(e)},e.prototype.setlimitX=function(t){var e=this.node.getPosition();e.x=t.x+(this.posD_value-.5)*t.width,this.node.setPosition(e),this.actionLimit=cc.v2(t.x-t.width/2,t.x+t.width/2)},e.prototype.playAnima=function(t){var e=this.body.currentClip;e&&e.name==t||this.body.play(t)},e.prototype.dieOver=function(){this.light.setScale(1,1);var t=s.default.scaleTo(2,2e4,2e4),e=s.default.callFun(this.nodeHide,this),o=s.default.sequence(t,e);s.default.getMng(s.ActionMngType.Level).runAction(this.light,o)},e.prototype.nodeHide=function(){this.emit(a.EventType.FoeEvent.bossDie),this.light.setScale(1,1),this.node.destroy()},e.prototype.setpOver=function(t){if(this.timeCooling-=t,this.timeCooling<=0){this.timeCooling=1/this.timeDistance,this.timeDistance<3&&this.timeDistance++;var e=this.bombPos.add(cc.v2(80,0).mul(Math.random()).rotate(360*Math.random()));this.emit(a.EventType.BombEvent.playEffect,{type:p.GlobalEnum.EffectType.burst,pos:e}),this.emit(a.EventType.AudioEvent.playEffect,p.GlobalEnum.AudioClip.carBomb)}},r([d(cc.Node)],e.prototype,"joints",void 0),r([d(cc.Node)],e.prototype,"muzzle",void 0),r([d(cc.Animation)],e.prototype,"body",void 0),r([d(cc.Node)],e.prototype,"light",void 0),r([f],e)}(l.default);o.default=y,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisComp":"CollisComp","../prefabScr/Bullet":"Bullet"}],Boss3:[function(t,e,o){"use strict";cc._RF.push(e,"6c961DiwLpEq40e+uAyZ6tk","Boss3");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),c=t("../../../Script/Common/GlobalPool"),a=t("../../../Script/GameSpecial/GameEventType"),p=t("../../../Script/GameSpecial/GlobalEnum"),l=t("../CollisComp"),h=t("../prefabScr/Bullet"),u=cc._decorator,f=u.ccclass,d=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direc=cc.v2(0,0),e.speed=120,e.moveDirect=0,e.isLive=!0,e.isMove=!1,e.joints=null,e.muzzle=null,e.shotSpeed=.5,e.shotTime=0,e.isShoting=!1,e.posD_value=0,e.actionLimit=null,e.light=null,e.bombPos=null,e.timeCooling=0,e.timeDistance=1,e.bigBullet=null,e.collTime=5,e}return n(e,t),e.prototype.init=function(){this.reset()},e.prototype.reset=function(){this.isLive=!0,this.posD_value=.95,this.actionLimit=null,this.resetLifeBar(),this.customStep=this.stepEmpty},e.prototype.reuse=function(t){this.reset(),t&&t.porb&&(this.posD_value=t.porb)},e.prototype.unuse=function(){},e.prototype.setData=function(){this.setInLevelData({ATK:100,Life:500})},e.prototype.find=function(t){t&&(this.direc=t),Math.abs(this.direc.x)<500?this.moveDirect=this.direc.x>0?-1:1:this.moveDirect=0},e.prototype.startGame=function(){this.customStep=this.dtUp},e.prototype.dtUp=function(t){if(0!=this.moveDirect){this.isMove=!0;var e=this.node.getPosition();e.x+=this.speed*this.moveDirect*t,this.actionLimit&&(e.x<this.actionLimit.x?e.x=this.actionLimit.x:e.x>this.actionLimit.y&&(e.x=this.actionLimit.y)),this.node.setPosition(e)}else this.isMove&&(this.isMove=!1);this.raiseWeapom(),this.isShot(t)},e.prototype.rotateBody=function(t){this.joints.angle=t},e.prototype.raiseWeapom=function(){if(Math.abs(this.direc.x)<800){var t=this.actan2(this.direc);t=180-t,this.rotateBody(t),this.isShoting=!0}else this.disarm(),this.isShoting=!1},e.prototype.disarm=function(){this.joints.angle=0},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(l.default);e.collisType==p.GlobalEnum.CollisType.bullet&&e.collisGroup==p.GlobalEnum.collisGroup.palyer&&this.beInjured(e.ATK)},e.prototype.beInjured=function(t){var e=this;this.inLevelData.Life>t?(this.inLevelData.Life-=t,this.updateLife()):this.isLive&&(this.inLevelData.Life-=t,this.updateLife(),this.isLive=!1,this.bombPos=this.node.convertToWorldSpaceAR(cc.v2(0,10)),this.customStep=this.setpOver,setTimeout(function(){e.customStep=e.stepEmpty,setTimeout(function(){e.dieOver()},1100)},5e3))},e.prototype.updateLife=function(){this.emit(a.EventType.ControlEvent.changeUI,{type:"bossLife",value:this.inLevelData.Life/this.originLife})},e.prototype.meadBullet=function(){var t=c.default.get("Bullet");this.muzzle.addChild(t),t.setPosition(cc.v2(0,0));var e=t.getComponent(h.default);return e.setData({group:this.node.group,ATK:this.inLevelData.ATK}),e},e.prototype.gun_Attack=function(){var t=this.meadBullet();this.emit(a.EventType.PlayerEvent.shot,t)},e.prototype.isShot=function(t){this.isShoting&&(this.shotTime-=t,this.shotTime<0&&(this.shotTime=this.shotSpeed,this.gun_Attack(),this.collTime--,this.collTime<0&&(this.collTime=5,this.shotBigBullet())))},e.prototype.setHorizon=function(t){var e=this.node.getPosition();e.y=t+100,this.setPosition(e)},e.prototype.setlimitX=function(t){var e=this.node.getPosition();e.x=t.x+(this.posD_value-.5)*t.width,this.node.setPosition(e),this.actionLimit=cc.v2(t.x-t.width/2,t.x+t.width/2)},e.prototype.dieOver=function(){this.light.setScale(1,1);var t=s.default.scaleTo(2,2e4,2e4),e=s.default.callFun(this.nodeHide,this),o=s.default.sequence(t,e);s.default.getMng(s.ActionMngType.Level).runAction(this.light,o)},e.prototype.nodeHide=function(){this.emit(a.EventType.FoeEvent.bossDie),this.light.setScale(1,1),this.node.destroy()},e.prototype.setpOver=function(t){if(this.timeCooling-=t,this.timeCooling<=0){this.timeCooling=1/this.timeDistance,this.timeDistance<3&&this.timeDistance++;var e=this.bombPos.add(cc.v2(500*(2*Math.random()-1),200*(2*Math.random()-1)));this.emit(a.EventType.BombEvent.playEffect,{type:p.GlobalEnum.EffectType.burst,pos:e}),this.emit(a.EventType.AudioEvent.playEffect,p.GlobalEnum.AudioClip.carBomb)}},e.prototype.shotBigBullet=function(){var t=cc.instantiate(this.bigBullet);this.bigBullet.parent.addChild(t);var e=t.getComponent(h.default);e.init(),e.setData({group:this.node.group,ATK:10*this.inLevelData.ATK}),e.shot()},r([d(cc.Node)],e.prototype,"joints",void 0),r([d(cc.Node)],e.prototype,"muzzle",void 0),r([d(cc.Node)],e.prototype,"light",void 0),r([d(cc.Node)],e.prototype,"bigBullet",void 0),r([f],e)}(l.default);o.default=y,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisComp":"CollisComp","../prefabScr/Bullet":"Bullet"}],Boss:[function(t,e,o){"use strict";cc._RF.push(e,"1af4fLu6hVPd50RHJX4zSuj","Boss");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),c=t("../../../Script/Common/GlobalPool"),a=t("../../../Script/GameSpecial/GameEventType"),p=t("../../../Script/GameSpecial/GlobalEnum"),l=t("../CollisComp"),h=t("../prefabScr/Bullet"),u=cc._decorator,f=u.ccclass,d=u.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direc=cc.v2(0,0),e.speed=120,e.moveDirect=0,e.isLive=!0,e.isMove=!1,e.joints=null,e.stateGun=[],e.muzzle=null,e.shotSpeed=1,e.shotTime=0,e.isShoting=!1,e.posD_value=0,e.actionLimit=null,e.body=null,e.light=null,e.bombPos=null,e.timeCooling=0,e.timeDistance=1,e}return n(e,t),e.prototype.init=function(){this.reset()},e.prototype.reset=function(){this.isLive=!0,this.posD_value=.95,this.actionLimit=null,this.resetLifeBar(),this.customStep=this.stepEmpty},e.prototype.reuse=function(t){this.reset(),t&&t.porb&&(this.posD_value=t.porb)},e.prototype.unuse=function(){},e.prototype.setData=function(){this.setInLevelData({ATK:50,Life:200})},e.prototype.find=function(t){t&&(this.node.scaleX=t.x>0?1:-1,this.direc=t),Math.abs(this.direc.x)<500?this.moveDirect=this.direc.x>0?-1:1:this.moveDirect=0},e.prototype.startGame=function(){this.playAnima("live"),this.customStep=this.dtUp},e.prototype.dtUp=function(t){if(0!=this.moveDirect){this.isMove=!0;var e=this.node.getPosition();e.x+=this.speed*this.moveDirect*t,this.actionLimit&&(e.x<this.actionLimit.x?e.x=this.actionLimit.x:e.x>this.actionLimit.y&&(e.x=this.actionLimit.y)),this.node.setPosition(e)}else this.isMove&&(this.isMove=!1);this.raiseWeapom(),this.isShot(t)},e.prototype.rotateBody=function(t){this.joints.angle=t},e.prototype.raiseWeapom=function(){if(Math.abs(this.direc.x)<800){var t=this.actan2(this.direc);this.node.scaleX<0&&(t=-t-180),this.rotateBody(t),this.isShoting=!0,this.stateGun[0].active=!1,this.stateGun[1].active=!0}else this.disarm(),this.isShoting=!1,this.stateGun[0].active=!0,this.stateGun[1].active=!1},e.prototype.disarm=function(){this.joints.angle=0},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(l.default);e.collisType==p.GlobalEnum.CollisType.bullet&&e.collisGroup==p.GlobalEnum.collisGroup.palyer&&this.beInjured(e.ATK)},e.prototype.beInjured=function(t){var e=this;this.inLevelData.Life>t?(this.inLevelData.Life-=t,this.updateLife()):this.isLive&&(this.inLevelData.Life-=t,this.updateLife(),this.isLive=!1,this.bombPos=this.node.convertToWorldSpaceAR(cc.v2(0,10)),this.customStep=this.setpOver,setTimeout(function(){e.customStep=e.stepEmpty,e.playAnima("die"),setTimeout(function(){e.dieOver()},1100)},5e3))},e.prototype.updateLife=function(){this.emit(a.EventType.ControlEvent.changeUI,{type:"bossLife",value:this.inLevelData.Life/this.originLife})},e.prototype.meadBullet=function(){var t=c.default.get("Bullet");this.muzzle.addChild(t),t.setPosition(cc.v2(0,0));var e=t.getComponent(h.default);return e.setData({group:this.node.group,ATK:this.inLevelData.ATK}),e},e.prototype.gun_Attack=function(){var t=this.meadBullet();this.emit(a.EventType.PlayerEvent.shot,t)},e.prototype.isShot=function(t){this.isShoting&&(this.shotTime-=t,this.shotTime<0&&(this.shotTime=this.shotSpeed,this.gun_Attack()))},e.prototype.setHorizon=function(t){var e=this.node.getPosition();e.y=t+300,this.setPosition(e)},e.prototype.setlimitX=function(t){var e=this.node.getPosition();e.x=t.x+(this.posD_value-.5)*t.width,this.node.setPosition(e),this.actionLimit=cc.v2(t.x-t.width/2,t.x+t.width/2)},e.prototype.playAnima=function(t){var e=this.body.currentClip;e&&e.name==t||this.body.play(t)},e.prototype.dieOver=function(){this.light.setScale(1,1);var t=s.default.scaleTo(2,15e3,1e4),e=s.default.callFun(this.nodeHide,this),o=s.default.sequence(t,e);s.default.getMng(s.ActionMngType.Level).runAction(this.light,o)},e.prototype.nodeHide=function(){this.emit(a.EventType.FoeEvent.bossDie),this.light.setScale(1,1),this.node.destroy()},e.prototype.setpOver=function(t){if(this.timeCooling-=t,this.timeCooling<=0){this.timeCooling=1/this.timeDistance,this.timeDistance<3&&this.timeDistance++;var e=this.bombPos.add(cc.v2(200*(2*Math.random()-1),70*(2*Math.random()-1)));this.emit(a.EventType.BombEvent.playEffect,{type:p.GlobalEnum.EffectType.burst,pos:e}),this.emit(a.EventType.AudioEvent.playEffect,p.GlobalEnum.AudioClip.carBomb)}},r([d(cc.Node)],e.prototype,"joints",void 0),r([d([cc.Node])],e.prototype,"stateGun",void 0),r([d(cc.Node)],e.prototype,"muzzle",void 0),r([d(cc.Animation)],e.prototype,"body",void 0),r([d(cc.Node)],e.prototype,"light",void 0),r([f],e)}(l.default);o.default=y,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisComp":"CollisComp","../prefabScr/Bullet":"Bullet"}],Bullet1:[function(t,e,o){"use strict";cc._RF.push(e,"64b1avHNDlHA6I00QY4GZTh","Bullet1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Bullet"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Bullet":"Bullet"}],BulletBox:[function(t,e,o){"use strict";cc._RF.push(e,"94443NdsgNBoJqmh7ESju94","BulletBox");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),c=t("../CollisComp"),a=cc._decorator,p=a.ccclass,l=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.danke=null,e.speed=cc.v2(),e.time=.4,e}return n(e,t),e.prototype.init=function(){this.reset(),this.node.active=!0},e.prototype.reset=function(){this.danke.setPosition(cc.v2()),this.danke.angle=0,this.speed=cc.v2(-100,100*Math.random()),this.time=.4},e.prototype.reuse=function(){this.reset(),this.node.active=!0},e.prototype.unuse=function(){this.reset()},e.prototype.setData=function(){},e.prototype.update=function(t){var e=this.danke.getPosition();e.addSelf(this.speed.mul(t)),this.danke.setPosition(e),this.speed.addSelf(cc.v2(0,-2300).mul(t)),this.time-=t,this.time<0&&this.over()},e.prototype.over=function(){var t=this;this.node&&(this.node.active=!1,setTimeout(function(){s.default.put(t.node)},0))},r([l(cc.Node)],e.prototype,"danke",void 0),r([p],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../CollisComp":"CollisComp"}],Bullet:[function(t,e,o){"use strict";cc._RF.push(e,"12e15V609lHv7NiJvswvyCf","Bullet");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),c=t("../CollisComp"),a=t("./Warhead"),p=cc._decorator,l=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atk=0,e.bullet=null,e.isShot=!1,e.speed=2500,e.time=2,e}return n(e,t),e.prototype.init=function(){this.reset()},e.prototype.reset=function(){this.bullet||(this.bullet=this.node.getChildByName("warhead").getComponent(a.default)),this.bullet.node.setPosition(cc.v2()),this.node.group="default",this.isShot=!1,this.node.angle=0,this.time=2,this.bullet.setShellCase(this)},e.prototype.reuse=function(){this.reset()},e.prototype.unuse=function(){this.reset()},e.prototype.setData=function(t){t&&(t.group&&(this.setgroup(t.group),this.bullet.changeGroup(t.group)),t.ATK&&(this.atk=t.ATK))},e.prototype.shot=function(){this.isShot=!0,this.node.active=!0,this.bullet.setATK(this.atk);var t=this.node.getComponent(cc.Animation);t&&t.play()},e.prototype.update=function(t){if(this.isShot){var e=this.bullet.node.getPosition();e.x+=t*this.speed,this.bullet.node.setPosition(e),this.time-=t,this.time<0&&this.over()}},e.prototype.over=function(){var t=this;this.node&&(this.node.active=!1,setTimeout(function(){s.default.put(t.node)},0))},r([l],e)}(c.default));o.default=h,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../CollisComp":"CollisComp","./Warhead":"Warhead"}],Burst:[function(t,e,o){"use strict";cc._RF.push(e,"a2abamln2JMd7m0QQXzhiq4","Burst");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/Common/yyComponent"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){this.reset(),this.playAnima()},e.prototype.reset=function(){this.node.setScale(1,1,1)},e.prototype.reuse=function(){this.reset(),this.playAnima()},e.prototype.unuse=function(){this.reset(),this.stopAnima()},e.prototype.setData=function(){},e.prototype.playAnima=function(){this.node.getComponent(cc.Animation).play()},e.prototype.stopAnima=function(){this.node.getComponent(cc.Animation).stop()},e.prototype.over=function(){s.default.put(this.node)},r([p],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/yyComponent":void 0}],CollisComp:[function(t,e,o){"use strict";cc._RF.push(e,"11681H1dRxEOpKdIlUSSgFf","CollisComp");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/GlobalPool"),c=t("../../Script/Common/yyComponent"),a=t("./prefabScr/LifeBar"),p=cc._decorator,l=p.ccclass,h=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collisType=null,e.collisGroup=null,e.inLevelData={Gold:0,Star:0,BLT:0,ATK:0,Life:0},e.originLife=1,e.lifeBar=null,e}return n(e,t),e.prototype.init=function(){},e.prototype.reset=function(){},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(){},e.prototype.onCollisionEnter=function(){},e.prototype.onCollisionStay=function(){},e.prototype.onCollisionExit=function(){},e.prototype.collisDirec=function(t,e){var o=e.world.preAabb,i=t.world.preAabb;return o.x+o.width<i.x?"-x":o.x>i.x+i.width?"+x":o.y+o.height<i.y?"-y":o.y>i.y+i.height?"+y":void 0},e.prototype.setgroup=function(t){this.node.active=!1,this.node.group=t,this.node.active=!0},e.prototype.updateWidget=function(t){void 0===t&&(t=this.node),this.node.getComponent(cc.Widget).updateAlignment()},e.prototype.updateWidgets=function(){for(var t=this.node.getComponentsInChildren(cc.Widget),e=0;e<t.length;e++)t[e].updateAlignment()},e.prototype.getMapData=function(){var t={};return t.name=this.node.name,t.pos=[this.node.x,this.node.y],t.data=this._getMapData(),t},e.prototype._getMapData=function(){return{}},e.prototype.initInLevelData=function(){for(var t in this.inLevelData)this.inLevelData[t]=0;this.originLife=1},e.prototype.resetInLevelData=function(){for(var t in this.inLevelData)this.inLevelData[t]=0;this.originLife=1},e.prototype.addInLevelData=function(t){for(var e in t)this.inLevelData[e]?this.inLevelData[e]+=t[e]:this.inLevelData[e]=t[e]},e.prototype.setInLevelData=function(t){for(var e in t)this.inLevelData[e]=t[e];this.originLife=this.inLevelData.Life},e.prototype.getInLevelData=function(){return this.inLevelData},e.prototype.beInjured=function(){},e.prototype.updateLife=function(){this.lifeBar&&this.lifeBar.node||this.loadLifeBar(),this.lifeBar.setProgress(this.inLevelData.Life/this.originLife)},e.prototype.loadLifeBar=function(){var t=s.default.get("LifeBar"),e=cc.v2(this.node.width*(.5-this.node.anchorX),this.node.height*(1-this.node.anchorY)+10);this.node.addChild(t),t.setPosition(e),this.lifeBar=t.getComponent(a.default),this.lifeBar.setgroup(this.node.group),this.lifeBar.setProgress(1)},e.prototype.resetLifeBar=function(){this.lifeBar&&(s.default.put(this.lifeBar.node),this.lifeBar=null)},e.prototype.setHorizon=function(){},e.prototype.setlimitX=function(){},e.prototype.actan2=function(t,e){var o=cc.v2();"number"==typeof t?(o.x=t,o.y=e):(o.x=t.x,o.y=t.y);var i=0;return 0==o.x?(o.y=0)?i=0:o.y>0?i=90:o.y<0&&(i=-90):o.x>0?i=Math.atan(o.y/o.x)*(180/Math.PI):o.x<0&&(i=o.y>=0?Math.atan(o.y/o.x)*(180/Math.PI)+180:Math.atan(o.y/o.x)*(180/Math.PI)-180),i},r([l],e)}(c.default));o.default=h,cc._RF.pop()},{"../../Script/Common/GlobalPool":void 0,"../../Script/Common/yyComponent":void 0,"./prefabScr/LifeBar":"LifeBar"}],ControlUI:[function(t,e,o){"use strict";cc._RF.push(e,"c33d5gQFEpP0ZvDs0j2j8ZH","ControlUI");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),c=t("../../../Script/Common/yyComponent"),a=t("../../../Script/GameSpecial/GameEventType"),p=t("./CusButton"),l=cc._decorator,h=l.ccclass,u=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipNode=null,e.startPos=null,e.controlNode=null,e.rockBar=null,e.posOriginRockBar=cc.v2(-450,-225),e.canChange=!0,e.lv=null,e.control=null,e.btns=[],e.starNodes=[],e.playerLifeBar=null,e.playerLifeLenght=0,e.bossUI=null,e.bossLifeBar=null,e.bossLifeLenght=0,e.goalNode=null,e.goalNum1=null,e.goalNum2=null,e.goalNum3=null,e.num1=0,e.num2=0,e.num3=0,e.goal1=0,e.goal2=0,e.goal3=0,e.bossLab=null,e.bosss=[],e.boss=null,e.npcNodes=[],e.bossHave=!1,e.posShowGoal=cc.v2(),e.posHideGoal=cc.v2(-550,300),e.konglong=null,e.jijia=null,e.hart=null,e.isPlayshanke=!1,e.rightTip=[],e}return n(e,t),e.prototype.init=function(){this.onEvents(),this.initBtn(),this.initUI(),this.node.active=!1},e.prototype.reset=function(){this.resetUI(),this.offEvents(),this.node.active=!1},e.prototype.setData=function(t){t&&(this.data=t),this.onEvents(),this.updateWidget(t.tag),this.setLv(t.data.lv),this.initGoal(t.data.data)},e.prototype.enter=function(t){var e=this;if(this.node.active=!0,this.emit(a.EventType.MainSceneEvent.controlChange,"konglong"),1!=this.data.data.lv)setTimeout(function(){e.showGoal2(),t&&t()},1e3);else{this.once("onceTipFinished",function(){e.showGoal2(),t&&t()},this);var o=this.tipNode.convertToWorldSpaceAR(cc.v2(0,0));this.emit(a.EventType.UIEvent.showClickTip,{worldPos:o,eventName:"onceTipFinished"})}},e.prototype.onEvents=function(){this.on(a.EventType.ControlEvent.changeUI,this.setUI,this),this.on(a.EventType.ControlEvent.starGet,this.starChange,this),this.on(a.EventType.FoeEvent.die,this.subGoal,this),this.on(a.EventType.FoeEvent.bossDie,this.subBoss,this),this.on(a.EventType.MainSceneEvent.controlChange,this.controlChange,this),this.on("attack",this.attack,this),this.on("shot",this.shot,this),this.on("roleChange",this.roleChange,this),this.controlNode.on("touchstart",this.touchStart,this),this.controlNode.on("touchmove",this.touchMove,this),this.controlNode.on("touchend",this.touchEnd,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onkeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onkeyUp,this)},e.prototype.offEvents=function(){this.off(a.EventType.ControlEvent.changeUI,this.setUI,this),this.off(a.EventType.ControlEvent.starGet,this.starChange,this),this.off(a.EventType.FoeEvent.die,this.subGoal,this),this.off(a.EventType.FoeEvent.bossDie,this.subBoss,this),this.off("attack",this.attack,this),this.off("shot",this.shot,this),this.off("roleChange",this.roleChange,this),this.controlNode.off("touchstart",this.touchStart,this),this.controlNode.off("touchmove",this.touchMove,this),this.controlNode.off("touchend",this.touchEnd,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onkeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onkeyUp,this)},e.prototype.updateWidget=function(t){var e=this.node.getComponent(cc.Widget);e.target=t,e.updateAlignment(),this.setOtherUI()},e.prototype.setOtherUI=function(){this.setGoalUI(),this.setRockUI()},e.prototype.setGoalUI=function(){this.posShowGoal=cc.v2(0,0),this.posHideGoal=cc.v2(-this.node.width/2+this.goalNode.width/2+10,this.node.height/2-this.goalNode.height/2-10)},e.prototype.setRockUI=function(){this.posOriginRockBar=cc.v2(-this.controlNode.width/2+this.control.width/2+50,-this.controlNode.height/2+this.control.height/2+50),this.control.setPosition(this.posOriginRockBar)},e.prototype.touchStart=function(t){var e=t.getLocation();e=this.controlNode.convertToNodeSpaceAR(e),this.startPos=t.getLocation(),this.control.setPosition(e)},e.prototype.touchMove=function(t){if(this.startPos){var e=t.getLocation().sub(this.startPos);this.setControl(e)}},e.prototype.touchEnd=function(){this.startPos=null,this.control.setPosition(this.posOriginRockBar),this.setControl(cc.v2())},e.prototype.setControl=function(t){var e=t;t.lengthSqr()>1e4&&(e=t.normalize().mul(100)),this.rockBar.setPosition(e),this.emit(a.EventType.MainSceneEvent.playerControl,{type:"move",data:e})},e.prototype.controlMove=function(t){this.emit(a.EventType.MainSceneEvent.playerControl,{type:"move",data:t})},e.prototype.attack=function(){this.emit(a.EventType.MainSceneEvent.playerControl,{type:"attack",data:null})},e.prototype.shot=function(t){this.emit(a.EventType.MainSceneEvent.playerControl,{type:"shot",data:t})},e.prototype.roleChange=function(){var t=this;this.canChange&&(this.canChange=!1,setTimeout(function(){t.canChange=!0},3e3),this.emit(a.EventType.MainSceneEvent.roleChange))},e.prototype.setLv=function(t){this.lv.string=""+t},e.prototype.initBtn=function(){for(var t=0;t<this.btns.length;t++)this.btns[t].init()},e.prototype.resetBtn=function(){for(var t=0;t<this.btns.length;t++)this.btns[t].reset()},e.prototype.onkeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.a:this.controlMove(cc.v2(-1,0));break;case cc.macro.KEY.d:this.controlMove(cc.v2(1,0));break;case cc.macro.KEY.w:this.controlMove(cc.v2(0,1));break;case cc.macro.KEY.s:this.controlMove(cc.v2(0,-1));break;case cc.macro.KEY.j:this.shot({type:"down"});break;case cc.macro.KEY.k:this.attack()}},e.prototype.onkeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.a:case cc.macro.KEY.d:case cc.macro.KEY.w:case cc.macro.KEY.s:this.controlMove(cc.v2());break;case cc.macro.KEY.j:this.shot({type:"up"});break;case cc.macro.KEY.k:}},e.prototype.initUI=function(){this.initPlayerBar(),this.initBossBar()},e.prototype.resetUI=function(){this.resetPlayerBar(),this.resetBossBar()},e.prototype.setUI=function(t){"playerLife"==t.type?(this.setPlayerLife(t.value),this.shankeHatr()):"bossLife"==t.type&&this.setBossLife(t.value)},e.prototype.starChange=function(t){for(var e=0;e<this.starNodes.length;e++)this.starNodes[e].active=e<t},e.prototype.initPlayerBar=function(){0==this.playerLifeLenght&&(this.playerLifeLenght=this.playerLifeBar.getComponent(cc.Sprite).spriteFrame.getOriginalSize().width),this.setPlayerLife(1)},e.prototype.resetPlayerBar=function(){this.setPlayerLife(1)},e.prototype.setPlayerLife=function(t){var e=this.playerLifeLenght*t;e<=0&&(e=1),this.playerLifeBar.width=e},e.prototype.initBossBar=function(){0==this.bossLifeLenght&&(this.bossLifeLenght=this.bossLifeBar.getComponent(cc.Sprite).spriteFrame.getOriginalSize().width),this.setBossLife(1),this.bossUI.active=!1},e.prototype.resetBossBar=function(){this.setBossLife(1),this.bossUI.active=!1},e.prototype.setBossLife=function(t){this.bossUI.active||(this.bossUI.active=!0);var e=this.bossLifeLenght*t;e<=0&&(e=1),this.bossLifeBar.width=e},e.prototype.initGoal=function(t){this.showGoal1(),this.setCounter(t),this.setGoalNum()},e.prototype.showGoal1=function(){var t=s.default.moveTo(.5,this.posShowGoal.x,this.posShowGoal.y);s.default.getMng(s.ActionMngType.UI).runAction(this.goalNode,t)},e.prototype.showGoal2=function(){var t=s.default.moveTo(.5,this.posHideGoal.x,this.posHideGoal.y);s.default.getMng(s.ActionMngType.UI).runAction(this.goalNode,t)},e.prototype.setGoalNum=function(){this.goalNum1.string=(this.goal1-this.num1).toString()+"/"+this.goal1.toString(),this.goalNum2.string=(this.goal2-this.num2).toString()+"/"+this.goal2.toString(),this.goalNum3.string=(this.goal3-this.num3).toString()+"/"+this.goal3.toString(),0==this.num1?this.rightTip[0].active=!0:this.rightTip[0].active=!1,0==this.num2?this.rightTip[1].active=!0:this.rightTip[1].active=!1,0==this.num3?this.rightTip[2].active=!0:this.rightTip[2].active=!1,this.bossHave?(this.bossLab.string="0/1",this.rightTip[3].active=!1):(this.bossLab.string="1/1",this.rightTip[3].active=!0),this.num1<=0&&this.num2<=0&&this.num3<=0&&!this.bossHave&&this.emit(a.EventType.MainSceneEvent.foeClear)},e.prototype.setCounter=function(t){t.npc&&(t.npc.npc1&&(this.goal1=t.npc.npc1.task,this.num1=this.goal1,0==this.goal1?this.npcNodes[0].active=!1:this.npcNodes[0].active=!0),t.npc.npc2&&(this.goal2=t.npc.npc2.task,this.num2=this.goal2,0==this.goal2?this.npcNodes[1].active=!1:this.npcNodes[1].active=!0),t.npc.npc3&&(this.goal3=t.npc.npc3.task,this.num3=this.goal3,0==this.goal3?this.npcNodes[2].active=!1:this.npcNodes[2].active=!0));var e=this.data.data.lv/5;Math.floor(e)==e?this.bossHave=!0:(this.bossHave=!1,this.boss.active=!1)},e.prototype.setBoss=function(t){this.boss.active=!0;for(var e=0;e<3;e++)this.bosss[e].active=e+1==t},e.prototype.subGoal=function(t){1==t&&this.num1>0?this.num1--:2==t&&this.num2>0?this.num2--:3==t&&this.num3>0&&this.num3--,this.setGoalNum()},e.prototype.subBoss=function(){this.bossHave&&(this.bossHave=!1),this.setGoalNum()},e.prototype.controlChange=function(t){"konglong"==t?(this.konglong.active=!0,this.jijia.active=!1):"jijia"==t&&(this.konglong.active=!1,this.jijia.active=!0)},e.prototype.shankeHatr=function(){if(!this.isPlayshanke){this.hart.active=!0,this.isPlayshanke=!0,this.hart.opacity=255;var t=s.default.fadeTo(1,0),e=s.default.callFun(this.finished,this),o=s.default.sequence(t,e);s.default.getMng(s.ActionMngType.UI).runAction(this.hart,o)}},e.prototype.finished=function(){var t=this;setTimeout(function(){t.isPlayshanke=!1,t.hart.active=!1},2e3)},r([u(cc.Node)],e.prototype,"tipNode",void 0),r([u(cc.Node)],e.prototype,"controlNode",void 0),r([u(cc.Node)],e.prototype,"rockBar",void 0),r([u(cc.Label)],e.prototype,"lv",void 0),r([u(cc.Node)],e.prototype,"control",void 0),r([u([p.default])],e.prototype,"btns",void 0),r([u([cc.Node])],e.prototype,"starNodes",void 0),r([u(cc.Node)],e.prototype,"playerLifeBar",void 0),r([u(cc.Node)],e.prototype,"bossUI",void 0),r([u(cc.Node)],e.prototype,"bossLifeBar",void 0),r([u(cc.Node)],e.prototype,"goalNode",void 0),r([u(cc.Label)],e.prototype,"goalNum1",void 0),r([u(cc.Label)],e.prototype,"goalNum2",void 0),r([u(cc.Label)],e.prototype,"goalNum3",void 0),r([u(cc.Label)],e.prototype,"bossLab",void 0),r([u([cc.Node])],e.prototype,"bosss",void 0),r([u(cc.Node)],e.prototype,"boss",void 0),r([u([cc.Node])],e.prototype,"npcNodes",void 0),r([u(cc.Node)],e.prototype,"konglong",void 0),r([u(cc.Node)],e.prototype,"jijia",void 0),r([u(cc.Node)],e.prototype,"hart",void 0),r([u([cc.Node])],e.prototype,"rightTip",void 0),r([h],e)}(c.default);o.default=f,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/Common/yyComponent":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"./CusButton":"CusButton"}],CusButton:[function(t,e,o){"use strict";cc._RF.push(e,"4ec9fFNmDpAlqBIi0uh1Krz","CusButton");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/yyComponent"),c=cc._decorator,a=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventName="",e.cusData=0,e.mask=null,e}return n(e,t),e.prototype.init=function(){this.onEvents()},e.prototype.reuse=function(){this.onEvents(),this.hideMask()},e.prototype.unuse=function(){this.reset()},e.prototype.setData=function(){},e.prototype.reset=function(){this.offEvents()},e.prototype.onEvents=function(){this.node.on("touchstart",this.touchStart,this),this.node.on("touchend",this.touchEnd,this),this.node.on("touchcancel",this.touchCancel,this)},e.prototype.offEvents=function(){this.node.off("touchstart",this.touchStart,this),this.node.off("touchend",this.touchEnd,this),this.node.off("touchcancel",this.touchCancel,this)},e.prototype.touchStart=function(t){this.showMask(),this.sendEvent(t,"down")},e.prototype.touchEnd=function(t){this.hideMask(),this.sendEvent(t,"up")},e.prototype.touchCancel=function(t){this.hideMask(),this.sendEvent(t,"up")},e.prototype.sendEvent=function(t,e){var o={};""!=this.eventName&&(o.touchData=t,o.cusData=this.cusData,o.type=e,this.emit(this.eventName,o))},e.prototype.showMask=function(){this.mask||(this.mask=this.node.getChildByName("mask")),this.mask.active=!0},e.prototype.hideMask=function(){this.mask||(this.mask=this.node.getChildByName("mask")),this.mask.active=!1},r([p(cc.String)],e.prototype,"eventName",void 0),r([p(cc.Integer)],e.prototype,"cusData",void 0),r([a],e)}(s.default);o.default=l,cc._RF.pop()},{"../../../Script/Common/yyComponent":void 0}],Danke:[function(t,e,o){"use strict";cc._RF.push(e,"c74d4koSYNCua0SsXDK86am","Danke");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GameEventType"),c=t("../../../Script/GameSpecial/GlobalEnum"),a=t("../CollisComp"),p=cc._decorator,l=p.ccclass,h=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collisType=c.GlobalEnum.CollisType.bullet,e.collisGroup=c.GlobalEnum.collisGroup.palyer,e.ATK=0,e.shellCase=null,e.point=null,e}return n(e,t),e.prototype.setShellCase=function(t){this.shellCase=t},e.prototype.setATK=function(t){this.ATK=t},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(a.default),o=this.point.convertToWorldSpaceAR(cc.v2());if(e){if(e.collisGroup==c.GlobalEnum.collisGroup.ground)this.emit(s.EventType.BombEvent.playEffect,{type:c.GlobalEnum.EffectType.dust,pos:o,data:{minAngle:0,maxAngle:360}});else if(e.collisGroup==c.GlobalEnum.collisGroup.palyer){if(2!=t.tag&&3!=t.tag)return;this.emit(s.EventType.BombEvent.playEffect,{type:c.GlobalEnum.EffectType.flash,pos:o})}this.shellCase.over()}},e.prototype.changeGroup=function(t){this.setgroup(t),this.collisGroup=t},r([h(cc.Node)],e.prototype,"point",void 0),r([l],e)}(a.default);o.default=u,cc._RF.pop()},{"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisComp":"CollisComp"}],Dust:[function(t,e,o){"use strict";cc._RF.push(e,"48e731OtmJPx5XcgxI7Bgdy","Dust");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/Common/yyComponent"),a=cc._decorator,p=a.ccclass,l=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dusts=[],e.amount=0,e.dataArr=[],e.liveTime=1,e}return n(e,t),e.prototype.init=function(){this.reset(),this.randomSpeed()},e.prototype.reset=function(){this.amount=this.dusts.length;for(var t=0;t<this.amount;t++)this.dusts[t].setPosition(cc.v2()),this.dusts[t].angle=0,this.dataArr[t]?(this.dataArr[t][0]=0,this.dataArr[t][1]=0,this.dataArr[t][2]=0):this.dataArr.push([0,0,0])},e.prototype.reuse=function(){this.reset(),this.randomSpeed()},e.prototype.unuse=function(){this.reset()},e.prototype.setData=function(t){if(0!=this.amount){var e=t.minAngle,o=(t.maxAngle-e)/this.amount;this.randomAngle(e,o)}},e.prototype.randomSpeed=function(){for(var t=0;t<this.amount;t++)this.dataArr[t][2]=100+50*Math.random()},e.prototype.randomAngle=function(t,e){for(var o=0;o<this.amount;o++)this.dataArr[o][1]=t+(o+Math.random())*e},e.prototype.update=function(t){for(var e=0;e<this.amount;e++)this.dataArr[e][0]+=this.dataArr[e][2]*t;this.setPos(),this.liveTime-=t,this.liveTime<0&&(this.liveTime=1,s.default.put(this.node))},e.prototype.setPos=function(){for(var t=0;t<this.amount;t++){var e=this.dataArr[t][0],o=this.dataArr[t][1]*(Math.PI/180);this.dusts[t].setPosition(cc.v2(e*Math.cos(o),e*Math.sin(o)))}},r([l([cc.Node])],e.prototype,"dusts",void 0),r([p],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/yyComponent":void 0}],Fighter1:[function(t,e,o){"use strict";cc._RF.push(e,"ec1d2bYWGJFbZg2l+8QTknO","Fighter1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Fighter"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dieDistance=100,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Fighter":"Fighter"}],Fighter2:[function(t,e,o){"use strict";cc._RF.push(e,"ec9c2XErHlLa4DSC+szl8ui","Fighter2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Fighter"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dieDistance=100,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Fighter":"Fighter"}],Fighter3:[function(t,e,o){"use strict";cc._RF.push(e,"8a4e9ZRGytASKPzElv9H4jw","Fighter3");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Fighter"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dieDistance=100,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Fighter":"Fighter"}],Fighter4:[function(t,e,o){"use strict";cc._RF.push(e,"4fbea1ypZ1EEI8d0pOfkAn6","Fighter4");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Fighter"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dieDistance=100,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Fighter":"Fighter"}],Fighter5:[function(t,e,o){"use strict";cc._RF.push(e,"1137aT1S3pPlaFuU80NMml5","Fighter5");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Fighter"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dieDistance=100,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Fighter":"Fighter"}],Fighter6:[function(t,e,o){"use strict";cc._RF.push(e,"088cfb3IaBHqYVA6eQc8cmT","Fighter6");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Fighter"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dieDistance=325,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Fighter":"Fighter"}],Fighter7:[function(t,e,o){"use strict";cc._RF.push(e,"4bf0dm3XIFJJqctpOaQrW3e","Fighter7");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Fighter"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dieDistance=325,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Fighter":"Fighter"}],Fighter8:[function(t,e,o){"use strict";cc._RF.push(e,"c8dbeOM+mxB3J9kvx3pidY5","Fighter8");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Fighter"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dieDistance=325,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Fighter":"Fighter"}],Fighter:[function(t,e,o){"use strict";cc._RF.push(e,"e7575ShPhxFTJWDJj39Imzs","Fighter");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/GameSpecial/GameEventType"),a=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisComp"),l=t("../prefabScr/Bullet"),h=cc._decorator,u=h.ccclass,f=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collisType=a.GlobalEnum.CollisType.npc,e.direc=cc.v2(0,0),e.speed=130,e.moveDirect=0,e.die=null,e.live=null,e.isLive=!0,e.isMove=!1,e.joints=[],e.posD_value=0,e.actionLimit=null,e.dieDistance=100,e.muzzle=null,e.shotSpeed=1,e.shotTime=0,e.isShoting=!1,e}return n(e,t),e.prototype.init=function(t){this.reset(),this.initState(),t&&t.porb&&(this.posD_value=t.porb),this.customStep=this.dtUp},e.prototype.reset=function(){this.isLive=!0,this.posD_value=0,this.actionLimit=null,this.resetLifeBar(),this.customStep=this.stepEmpty},e.prototype.reuse=function(t){this.reset(),this.initState(),t&&t.porb&&(this.posD_value=t.porb),this.customStep=this.dtUp},e.prototype.unuse=function(){this.reset()},e.prototype.setData=function(t){t&&t.inLevelData&&this.setInLevelData(t.inLevelData)},e.prototype.find=function(t){t&&(this.node.scaleX=t.x>0?-1:1,this.direc=t),Math.abs(this.direc.x)<400?this.moveDirect=this.direc.x>0?-1:1:this.moveDirect=0},e.prototype.dtUp=function(t){if(0!=this.moveDirect){this.isMove||(this.isMove=!0,this.playMove());var e=this.node.getPosition();e.x+=this.speed*this.moveDirect*t,this.actionLimit&&(e.x<this.actionLimit.x?e.x=this.actionLimit.x:e.x>this.actionLimit.y&&(e.x=this.actionLimit.y)),this.node.setPosition(e)}else this.isMove&&(this.stopMove(),this.isMove=!1);this.raiseWeapom(),this.isShot(t)},e.prototype.initState=function(){this.die.active=!1,this.live.active=!0},e.prototype.playDeath=function(){this.isLive=!1,this.live.active=!1,this.die.active=!0,this.die.getComponent(cc.Animation).play()},e.prototype.playMove=function(){this.live.getComponent(cc.Animation).play()},e.prototype.stopMove=function(){this.live.getComponent(cc.Animation).stop()},e.prototype.rotateBody=function(t){this.joints[0].angle=t,this.joints[1].angle=t,this.joints[2].angle=t},e.prototype.raiseWeapom=function(){if(Math.abs(this.direc.x)<600){var t=this.actan2(this.direc);this.node.scaleX>0?t-=180:t=-t,this.rotateBody(t),this.isShoting=!0}else this.disarm(),this.isShoting=!1},e.prototype.disarm=function(){this.joints[0].angle=60,this.joints[1].angle=60,this.joints[2].angle=0},e.prototype.setHorizon=function(t){var e=this.node.getPosition();e.y=t,this.setPosition(e)},e.prototype.setlimitX=function(t){var e=this.node.getPosition();e.x=t.x+(this.posD_value-.5)*t.width,this.node.setPosition(e),this.actionLimit=cc.v2(t.x-t.width/2,t.x+t.width/2)},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(p.default);e.collisType==a.GlobalEnum.CollisType.bullet&&e.collisGroup==a.GlobalEnum.collisGroup.palyer&&this.beInjured(e.ATK)},e.prototype.beInjured=function(t){var e=this;this.emit(c.EventType.AudioEvent.playEffect,a.GlobalEnum.AudioClip.manVoice),this.inLevelData.Life>t?(this.inLevelData.Life-=t,this.updateLife()):this.isLive&&(this.inLevelData.Life-=t,this.updateLife(),this.playDeath(),setTimeout(function(){var t=e.node.convertToWorldSpaceAR(cc.v2(e.dieDistance,10));e.emit(c.EventType.BombEvent.playEffect,{type:a.GlobalEnum.EffectType.blood,pos:t}),s.default.put(e.node),e.emit(c.EventType.FoeEvent.die,2)},1e3))},e.prototype.yaoDie=function(){if(this.isLive){this.inLevelData.Life=0,this.updateLife();var t=this.node.convertToWorldSpaceAR(cc.v2(this.dieDistance,10));this.emit(c.EventType.BombEvent.playEffect,{type:a.GlobalEnum.EffectType.blood,pos:t}),s.default.put(this.node),this.emit(c.EventType.FoeEvent.die,2)}},e.prototype.meadBullet=function(){var t=s.default.get("Bullet");this.muzzle.addChild(t),t.setPosition(cc.v2(0,0));var e=t.getComponent(l.default);return e.setData({group:this.node.group,ATK:this.inLevelData.ATK}),e},e.prototype.gun_Attack=function(){var t=this.meadBullet();this.emit(c.EventType.PlayerEvent.shot,t)},e.prototype.isShot=function(t){this.isShoting&&(this.shotTime-=t,this.shotTime<0&&(this.shotTime=this.shotSpeed,this.gun_Attack()))},e.prototype.stopAction=function(){this.stopMove(),this.customStep=this.stepEmpty},r([f(cc.Node)],e.prototype,"die",void 0),r([f(cc.Node)],e.prototype,"live",void 0),r([f([cc.Node])],e.prototype,"joints",void 0),r([f(cc.Node)],e.prototype,"muzzle",void 0),r([u],e)}(p.default);o.default=d,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisComp":"CollisComp","../prefabScr/Bullet":"Bullet"}],Flash:[function(t,e,o){"use strict";cc._RF.push(e,"ac1091YmAtPhJhaGzKQ6E9z","Flash");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/Common/yyComponent"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){this.reset(),this.playAnima()},e.prototype.reset=function(){},e.prototype.reuse=function(){this.reset(),this.playAnima()},e.prototype.unuse=function(){this.reset(),this.stopAnima()},e.prototype.setData=function(){},e.prototype.playAnima=function(){this.node.getComponent(cc.Animation).play()},e.prototype.stopAnima=function(){this.node.getComponent(cc.Animation).stop()},e.prototype.over=function(){s.default.put(this.node)},r([p],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/yyComponent":void 0}],Item10:[function(t,e,o){"use strict";cc._RF.push(e,"5869bNcIJtOz506qOWWF++b","Item10");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Item"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wreckageType=1,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Item":"Item"}],Item1:[function(t,e,o){"use strict";cc._RF.push(e,"90924Qg+G9J56Z4QjteWsBJ","Item1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),c=t("./Item"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioClip=s.GlobalEnum.AudioClip.box,e.dieBomb=s.GlobalEnum.AudioClip.noCarBomb,e}return n(e,t),r([p],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"./Item":"Item"}],Item2:[function(t,e,o){"use strict";cc._RF.push(e,"c4cfbS1AS1KE7AOC/oj1YBB","Item2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Item"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wreckageType=2,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Item":"Item"}],Item3:[function(t,e,o){"use strict";cc._RF.push(e,"088caG3JHRNhpnYeT44BExv","Item3");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Item"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wreckageType=3,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Item":"Item"}],Item4:[function(t,e,o){"use strict";cc._RF.push(e,"7a7ee2YnOpMCI8RE7L+N8mc","Item4");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Item"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wreckageType=5,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Item":"Item"}],Item5:[function(t,e,o){"use strict";cc._RF.push(e,"d26b63UVbVNsrf7yohTtKO0","Item5");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Item"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wreckageType=4,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Item":"Item"}],Item6:[function(t,e,o){"use strict";cc._RF.push(e,"0a328xw9P1EU58xRlVOEJR7","Item6");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Item"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wreckageType=0,e}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Item":"Item"}],Item7:[function(t,e,o){"use strict";cc._RF.push(e,"c5d05PveYhErpzwcdBUdgg+","Item7");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),c=t("./Item"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dieBomb=s.GlobalEnum.AudioClip.noCarBomb,e}return n(e,t),r([p],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"./Item":"Item"}],Item8:[function(t,e,o){"use strict";cc._RF.push(e,"825d7aP1B9CcrFpnx0e3STc","Item8");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),c=t("./Item"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dieBomb=s.GlobalEnum.AudioClip.noCarBomb,e}return n(e,t),r([p],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"./Item":"Item"}],Item9:[function(t,e,o){"use strict";cc._RF.push(e,"8d426moI+ZFaoFrvipmSqiP","Item9");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Item"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Item":"Item"}],Item:[function(t,e,o){"use strict";cc._RF.push(e,"a690aw/9+pJX4UYEpYD6Q6m","Item");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),c=t("../../../Script/Common/GlobalPool"),a=t("../../../Script/GameSpecial/GameEventType"),p=t("../../../Script/GameSpecial/GlobalEnum"),l=t("../CollisComp"),h=cc._decorator,u=h.ccclass,f=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collisType=p.GlobalEnum.CollisType.item,e.dieBomb=p.GlobalEnum.AudioClip.carBomb,e.imgs=[],e.spr=null,e.posD_value=0,e.wreckage=null,e.audioClip=p.GlobalEnum.AudioClip.metal,e}return n(e,t),e.prototype.init=function(t){t&&t.porb&&(this.posD_value=t.porb)},e.prototype.reset=function(){this.resetInLevelData(),this.posD_value=0,this.lifeBar&&c.default.put(this.lifeBar.node),this.resetLifeBar()},e.prototype.reuse=function(t){t&&t.porb&&(this.posD_value=t.porb)},e.prototype.unuse=function(){this.reset()},e.prototype.setData=function(t){this.setSprite(),this.updateCollisBox(),t&&t.inLevelData&&this.setInLevelData(t.inLevelData)},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(l.default);e.collisType==p.GlobalEnum.CollisType.bullet&&e.collisGroup==p.GlobalEnum.collisGroup.palyer&&this.beInjured(e.ATK)},e.prototype.beInjured=function(t){if(this.inLevelData.Life>t)this.inLevelData.Life-=t,this.updateLife(),this.wreckage&&this.wreckage.addWreckage(),this.playBeInjured();else{var e=this.node.convertToWorldSpaceAR(cc.v2(0,this.node.height/2));this.emit(a.EventType.BombEvent.playEffect,{type:p.GlobalEnum.EffectType.burst,pos:e}),c.default.put(this.node),this.emit(a.EventType.AudioEvent.playEffect,this.dieBomb),this.wreckage&&this.wreckage.overShow()}},e.prototype.setSprite=function(){var t=this.imgs.length;if(0!=t){var e=Math.floor(t*Math.random());this.spr.spriteFrame=this.imgs[e]}},e.prototype.updateCollisBox=function(){var t=this.node.getComponent(cc.BoxCollider);t.offset=cc.v2((.5-this.node.anchorX)*this.node.width,(.5-this.node.anchorY)*this.node.height),t.size=cc.size(this.node.width,this.node.height)},e.prototype.setHorizon=function(t){var e=this.node.getPosition();e.y=t,this.setPosition(e)},e.prototype.setlimitX=function(t){var e=this.node.getPosition();e.x=t.x+(this.posD_value-.5)*t.width,this.node.setPosition(e)},e.prototype.startGame=function(){null!=this.wreckageType&&null!=this.wreckageType&&this.loadWreckage()},e.prototype.setWreckage=function(t){this.wreckage=t},e.prototype.loadWreckage=function(){var t=this.node.convertToWorldSpaceAR(cc.v2(0,0));this.emit(a.EventType.BombEvent.playEffect,{type:p.GlobalEnum.EffectType.wreckage,pos:t,data:{obj:this,type:this.wreckageType}})},e.prototype.playBeInjured=function(){this.emit(a.EventType.AudioEvent.playEffect,this.audioClip);var t=s.default.moveBy(.05,5,0),e=s.default.moveBy(.1,-10,0),o=s.default.sequence(t,e);s.default.getMng(s.ActionMngType.Level).runAction(this.node,o)},r([f(cc.SpriteFrame)],e.prototype,"imgs",void 0),r([f(cc.Sprite)],e.prototype,"spr",void 0),r([u],e)}(l.default);o.default=d,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisComp":"CollisComp"}],Landing:[function(t,e,o){"use strict";cc._RF.push(e,"8b2dbD5RbhOBrqNDTi1Eb71","Landing");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/Common/yyComponent"),a=cc._decorator,p=a.ccclass,l=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.landing=null,e.speedY=cc.v2(0,-1600),e.cb=null,e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.reset(),this.setH(1e3)},e.prototype.reset=function(){},e.prototype.reuse=function(){this.node.active=!0,this.reset(),this.setH(1e3)},e.prototype.unuse=function(){this.node.active=!1,this.reset()},e.prototype.setData=function(t){t&&t.height&&this.setH(t.height),t&&t.cb&&(this.cb=t.cb)},e.prototype.setH=function(t){this.landing.setPosition(cc.v2(0,t))},e.prototype.update=function(t){if(this.move(t),this.landing.y<=0&&(this.landing.y=0,s.default.put(this.node),this.cb)){var e=this.cb;this.cb=null,e()}},e.prototype.move=function(t){var e=this.landing.getPosition();e.addSelf(this.speedY.mul(t)),this.landing.setPosition(e)},r([l(cc.Node)],e.prototype,"landing",void 0),r([p],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/yyComponent":void 0}],LevelCamera:[function(t,e,o){"use strict";cc._RF.push(e,"f48aftFISdLI7XFeOhvOx8H","LevelCamera");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/Action3dManager"),c=t("../../Script/Common/yyComponent"),a=t("../../Script/GameSpecial/GameEventType"),p=cc._decorator,l=p.ccclass,h=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.viewRect=null,e.mainObject=null,e.minPoint=cc.v2(),e.maxPoint=cc.v2(),e.moveLimit=100,e.tebieAction=!1,e.cameraBox=cc.v2(),e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.onEvents(),this.initCameraBox()},e.prototype.reset=function(){this.node.active=!1},e.prototype.setData=function(t){this.viewRect=cc.rect(0,0,t[0]/this.camera.zoomRatio,t[1]/this.camera.zoomRatio)},e.prototype.cameraStart=function(){this.node.active=!0,this.resetMO()},e.prototype.customUpdate=function(){this.resetMO()},e.prototype.onEvents=function(){this.on(a.EventType.CameraEvent.registerTarget,this.refisterTarget,this),this.on(a.EventType.CameraEvent.viewLimit,this.viewLimit,this),this.on(a.EventType.CameraEvent.shanke,this.shanke,this)},e.prototype.offEvents=function(){this.off(a.EventType.CameraEvent.registerTarget,this.refisterTarget,this),this.off(a.EventType.CameraEvent.viewLimit,this.viewLimit,this),this.off(a.EventType.CameraEvent.shanke,this.shanke,this)},e.prototype.refisterTarget=function(t){this.mainObject&&console.warn("\u8b66\u544a\uff01\u5c06\u8981\u66f4\u6362\u76f8\u673a\u89c2\u5bdf\u5bf9\u8c61\u3002"),this.mainObject=t,this.resetMO()},e.prototype.shanke=function(){this.tebieAction=!0;var t=s.default.moveBy(.02,20,0,0),e=s.default.moveBy(.02,0,0,0),o=s.default.moveBy(.02,-20,0,0),i=s.default.moveBy(.02,0,0,0),n=s.default.callFun(this.actionOver,this),r=s.default.sequence(t,e,o,i,n);s.default.getMng(s.ActionMngType.Level).runAction(this.node,r)},e.prototype.actionOver=function(){this.tebieAction=!1},e.prototype.viewLimit=function(t){this.minPoint=cc.v2((t.width-this.viewRect.width)/-2,(t.height-this.viewRect.height)/-2),this.minPoint.addSelf(cc.v2(t.x,t.y)),this.maxPoint=cc.v2((t.width-this.viewRect.width)/2,(t.height-this.viewRect.height)/2),this.maxPoint.addSelf(cc.v2(t.x,t.y))},e.prototype.resetMO=function(){if(!this.tebieAction){var t=this.getTargetPosi(),e=t.x-this.node.x;e<this.moveLimit&&e>-this.moveLimit?t.x=this.node.x:t.x=t.x-(e>0?this.moveLimit:-this.moveLimit),t=this.amendPathway(t);var o=s.default.moveTo(.2,t.x,t.y);s.default.getMng(s.ActionMngType.Level).runAction(this.node,o)}},e.prototype.getTargetPosi=function(){var t=cc.v2();if(this.mainObject&&this.mainObject.parent){var e=this.mainObject.parent.convertToWorldSpaceAR(this.mainObject.getPosition());t=this.node.parent.convertToNodeSpaceAR(e)}return t},e.prototype.amendPathway=function(t){var e=cc.v2(t.x,t.y);return t.x<this.minPoint.x?e.x=this.minPoint.x:t.x>this.maxPoint.x&&(e.x=this.maxPoint.x),t.y<this.minPoint.y?e.y=this.minPoint.y:t.y>this.maxPoint.y&&(e.y=this.maxPoint.y),e},e.prototype.initCameraBox=function(){this.cameraBox.x=this.node.parent.width,this.cameraBox.y=this.node.parent.height},e.prototype.boxforWin=function(t){var e=this.node.position,o=t.sub(e),i=cc.v2(0,0);if(Math.abs(o.x)>this.cameraBox.x/5){var n=Math.abs(o.x)-this.cameraBox.x/5;o.x<0?i.x=-n:i.x=n}return Math.abs(o.y)>this.cameraBox.y/5&&(n=Math.abs(o.y)-this.cameraBox.y/5,o.y<0?i.y=-n:i.y=n),i},r([h(cc.Camera)],e.prototype,"camera",void 0),r([l],e)}(c.default);o.default=u,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0}],LevelManager:[function(t,e,o){"use strict";cc._RF.push(e,"8a3a1r8py9NEZq3f4jOfVcp","LevelManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/yyComponent"),c=t("../../Script/GameSpecial/GameEventType"),a=t("../../Script/Common/Action3dManager"),p=t("../../Script/GameSpecial/GlobalEnum"),l=cc._decorator,h=l.ccclass,u=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pauseCount=0,e.levelLayer=null,e.actMng=null,e.nextState=null,e.needLoadCount=0,e}return n(e,t),e.prototype.init=function(){this.initComponents(),this.initCustomUpdateState(),this.initLevelTimer(),this.initActMng(),this.initEnterLobbyState(),this.loadLobbyItems(),this.registAllCustomUpdate(),this.onEvents(),cc.warn("\u5173\u5361\u7ba1\u7406\u5668\u7684init\u9700\u7531\u5b50\u7c7b\u5b9e\u73b0")},e.prototype.registAllCustomUpdate=function(){cc.warn("\u5173\u5361\u7ba1\u7406\u5668\u7684registAllCustomUpdate\u9700\u7531\u5b50\u7c7b\u5b9e\u73b0"),this.registCustomUpdate(p.GlobalEnum.LevelState.lobby,this.stepLobby),this.registCustomUpdate(p.GlobalEnum.LevelState.win,this.stepLevelWin),this.registCustomUpdate(p.GlobalEnum.LevelState.lose,this.stepLevelLose),this.registCustomUpdate(p.GlobalEnum.LevelState.playing,this.stepLevelPlaying)},e.prototype.onEvents=function(){cc.warn("\u5173\u5361\u7ba1\u7406\u5668\u7684onEvents\u9700\u7531\u5b50\u7c7b\u5b9e\u73b0"),this.on(c.EventType.DirectorEvent.pauseLevel,this.pause,this),this.on(c.EventType.DirectorEvent.resumeLevel,this.resume,this)},e.prototype.loadLobbyItems=function(){},e.prototype.reset=function(){this.resetCustomUpdateState(),this.resetLevelTimer()},Object.defineProperty(e.prototype,"paused",{get:function(){return this.isPaused},enumerable:!1,configurable:!0}),e.prototype.pause=function(t){void 0===t&&(t=1),this.pauseCount+=t,this.isPaused=!0},e.prototype.resume=function(t){void 0===t&&(t=1),-1===t?(this.pauseCount=0,this.isPaused=!1):(this.pauseCount-=t,this.pauseCount<=0&&(this.pauseCount=0,this.isPaused=!1))},e.prototype.initLevelTimer=function(){this.elapseTimer=0,this.isPaused=!1,this.pauseCount=0},e.prototype.resetLevelTimer=function(){this.elapseTimer=0,this.isPaused=!1,this.pauseCount=0},e.prototype.customUpdate=function(){if(!this.isPaused){var t=Date.now(),e=t-this.lastFrameTime;this.lastFrameTime=t,e>34&&(e=34),e*=.001,this.elapseTimer+=e,this.customStep&&this.customStep(e)}},e.prototype.running=function(t){this.isPaused||(this.updateAction(t),this.customStep&&this.customStep(t))},e.prototype.getLevelData=function(){return this.levelData},e.prototype.initActMng=function(){this.actMng=a.default.getMng(a.ActionMngType.Level)},e.prototype.updateAction=function(t){this.actMng.update(t)},e.prototype.enterLevel=function(t){this.node.active=!0,this.needLoadCount<=0?(this.reset(),this.levelData=t,this._enterLevel()):(this.levelData=t,this.nextState=p.GlobalEnum.LevelState.playing)},e.prototype._enterLevel=function(){this.setData(),this.startLevel()},e.prototype.startLevel=function(){this.enterCustomUpdateState(p.GlobalEnum.LevelState.playing),this.lastFrameTime=Date.now(),this.emit(c.EventType.CtrlEvent.ctrlStart),this.emit(c.EventType.AudioEvent.playBGM,p.GlobalEnum.AudioClip.BGMGame);var t=this.levelData.lv;void 0===t&&(t=this.levelData.id),this.emit(c.EventType.ALDEvent.levelStart,t)},e.prototype.setTeachCmp=function(){},e.prototype.exit=function(){this.reset()},e.prototype.initEnterLobbyState=function(){this.nextState=null,this.needLoadCount=0,console.warn("\u8fdb\u5165\u9996\u9875\u5fc5\u987b\u52a0\u8f7d\u7684\u9884\u5236\u4ef6\u6570\u91cf\u4e3a\uff1a",this.needLoadCount)},e.prototype.enterLobby=function(){this.needLoadCount<=0?(this.reset(),this.setEnterLobbyData(),this.enterCustomUpdateState(p.GlobalEnum.LevelState.lobby)):this.nextState=p.GlobalEnum.LevelState.lobby},e.prototype.setEnterLobbyData=function(){console.log("\u8bbe\u7f6e\u5173\u5361\u573a\u666f\u4f5c\u4e3a\u9996\u9875\u80cc\u666f\u65f6\u7684\u6570\u636e\uff0c\u7531\u5b50\u7c7b\u5b9e\u73b0")},e.prototype.loadLobbyItemFinish=function(){if(this.needLoadCount--,this.needLoadCount<=0){switch(this.nextState){case p.GlobalEnum.LevelState.lobby:this.setEnterLobbyData(),this.enterCustomUpdateState(p.GlobalEnum.LevelState.lobby);break;case p.GlobalEnum.LevelState.playing:this._enterLevel()}this.emit(c.EventType.LevelEvent.levelSceneLoadFinish)}},e.prototype.stepLevelPlaying=function(){},e.prototype.stepLevelWin=function(){},e.prototype.stepLevelLose=function(){},e.prototype.stepLobby=function(){},e.prototype.win=function(t){this.enterCustomUpdateState(p.GlobalEnum.LevelState.win),this.emit(c.EventType.CtrlEvent.ctrlEnd),this.emit(c.EventType.DirectorEvent.playerWin,t),this.emit(c.EventType.AudioEvent.stopBGM);var e=this.levelData.lv;void 0===e&&(e=this.levelData.id),this.emit(c.EventType.ALDEvent.levelWin,e)},e.prototype.lose=function(t){this.enterCustomUpdateState(p.GlobalEnum.LevelState.lose),this.emit(c.EventType.CtrlEvent.ctrlEnd),this.emit(c.EventType.DirectorEvent.playerLose,t),this.emit(c.EventType.AudioEvent.stopBGM);var e=this.levelData.lv;void 0===e&&(e=this.levelData.id),this.emit(c.EventType.ALDEvent.levelLose,e)},r([u(cc.Node)],e.prototype,"levelLayer",void 0),r([h],e)}(s.default);o.default=f,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],LifeBar:[function(t,e,o){"use strict";cc._RF.push(e,"87b5ch/YadPSY6xmHkb7ngH","LifeBar");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/Common/yyComponent"),a=cc._decorator,p=a.ccclass,l=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bar=null,e.barTotalLength=0,e.progress=1,e.goal=1,e.speed=10,e}return n(e,t),e.prototype.init=function(){this.initProgress()},e.prototype.reset=function(){this.resetProgress()},e.prototype.reuse=function(){this.resetProgress()},e.prototype.unuse=function(){this.reset()},e.prototype.setData=function(){},e.prototype.initProgress=function(){this.barTotalLength=this.bar.getComponent(cc.Sprite).spriteFrame.getOriginalSize().width,this.bar.setPosition(cc.v2(-this.barTotalLength/2,0)),this.progress=1,this.goal=this.progress,this.updateBarWidth()},e.prototype.resetProgress=function(){this.progress=1,this.goal=this.progress,this.updateBarWidth()},e.prototype.updateBarWidth=function(){var t=this.barTotalLength*this.progress;t<1&&(t=1),t>this.barTotalLength&&(t=this.barTotalLength),this.bar.width=t,0==this.progress&&s.default.put(this.node)},e.prototype.updateProgress=function(t){this.progress!=this.goal&&(this.progress>this.goal?(this.progress-=this.speed*t,this.progress<this.goal&&(this.progress=this.goal)):(this.progress+=this.speed*t,this.progress>this.goal&&(this.progress=this.goal)))},e.prototype.subProgress=function(t){this.progress-=t,this.progress<0&&(this.progress=0),this.updateBarWidth()},e.prototype.addProgress=function(t){this.progress+=t,this.progress>1&&(this.progress=1),this.updateBarWidth()},e.prototype.setProgress=function(t){this.goal=t},e.prototype.update=function(t){this.updateProgress(t),this.updateBarWidth()},e.prototype.setgroup=function(t){this.node.active=!1,this.node.group=t,this.node.active=!0},r([l(cc.Node)],e.prototype,"bar",void 0),r([p],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/yyComponent":void 0}],MainSceneScr:[function(t,e,o){"use strict";cc._RF.push(e,"8346bhI5o5Iioi4K+SEkFA7","MainSceneScr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../MainScene/Image/winAnima/WinAnim"),c=t("../../Script/Common/GlobalPool"),a=t("../../Script/Common/Loader"),p=t("../../Script/Common/yyComponent"),l=t("../../Script/GameSpecial/GameEventType"),h=t("../../Script/GameSpecial/GlobalEnum"),u=t("./CollisComp"),f=t("./control/ControlUI"),d=t("./items/Item"),y=t("./mapScene/MapScene"),v=cc._decorator,m=v.ccclass,_=v.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scene=null,e.mapData=null,e.lv=0,e.limitBox=null,e.bossOK=!0,e.mapScene=null,e.levelEleScr=[],e.mapOk=!1,e.bullet=null,e.effect=null,e.wreckage=null,e.player=null,e.countrolUI=null,e.playerPos=null,e.timeCooling=0,e.timeDistance=1,e.konglong=null,e.jijia=null,e.state=!1,e.anima=null,e}return n(e,t),e.prototype.init=function(){this.onEvents(),this.initCollisManager(),this.countrolUI.init(),this.initPlayer()},e.prototype.reset=function(){this.offEvents(),this.countrolUI.reset(),this.player&&(this.player=this.konglong,this.state=!1,this.emit(l.EventType.MainSceneEvent.controlChange,"konglong"),this.player.reset()),this.konglong&&this.konglong.reset(),this.jijia&&this.jijia.reset(),this.mapScene&&this.mapScene.reset(),this.boss&&(this.boss.node&&this.boss.node.destroy(),this.boss=null),this.bossOK=!0,this.resetLevelEle()},e.prototype.onEvents=function(){this.on(l.EventType.MainSceneEvent.playerControl,this.playerControl,this),this.on(l.EventType.BombEvent.playEffect,this.playEffect,this),this.on(l.EventType.PlayerEvent.shot,this.shotBullet,this),this.on(l.EventType.PlayerEvent.death,this.playerDie,this),this.on(l.EventType.MainSceneEvent.foeClear,this.foeClear,this),this.on(l.EventType.MainSceneEvent.roleChange,this.roleChange,this)},e.prototype.offEvents=function(){this.off(l.EventType.MainSceneEvent.playerControl,this.playerControl,this),this.off(l.EventType.BombEvent.playEffect,this.playEffect,this),this.off(l.EventType.PlayerEvent.shot,this.shotBullet,this),this.off(l.EventType.PlayerEvent.death,this.playerDie,this),this.off(l.EventType.MainSceneEvent.foeClear,this.foeClear,this),this.off(l.EventType.MainSceneEvent.roleChange,this.roleChange,this)},e.prototype.initCollisManager=function(){cc.director.getCollisionManager().enabled=!0},e.prototype.resetLevelEle=function(){for(var t=this.scene.children,e=t.length-1;e>=0;e--)c.default.put(t[e]);this.levelEleScr=[];var o=this.wreckage.children;for(e=o.length-1;e>=0;e--){var i=o[e];i.removeFromParent(!1),i.parent=null,c.default.put(i)}this.mapOk=!1},e.prototype.setData=function(t){t&&t.data&&(this.mapData=t.data,this.lv=t.lv),this.countrolUI.setData({data:t,tag:this.node.parent}),this.setPlayer(),this.setScene()},e.prototype.setPlayer=function(){var t=this;this.player?(this.player.setData({}),this.enter()):this.loadPlayer(function(){t.player.setData({}),t.enter()})},e.prototype.setScene=function(){this.setBackground(this.mapData.background);var t=this.lv/5;Math.floor(t)==t&&(4==t&&(t=Math.floor(3*Math.random())+1),this.bossOK=!1,this.setBoss(t)),this.setLevelEle()},e.prototype.setBackground=function(t){var e=this;if(this.mapScene&&this.mapScene.name==t.type)return this.mapScene.reset(),void this.mapScene.setData(t);a.default.loadBundleRes("LevelScene","Prefab/"+t.type,function(o){if(o){e.mapScene&&(e.mapScene.reset(),e.mapScene.node&&e.mapScene.node.destroy(),e.mapScene=null);var i=cc.instantiate(o);e.node.getChildByName("mapScene").addChild(i),i.setPosition(cc.v2(-e.node.parent.width/2,0)),e.mapScene=i.getComponent(y.default),e.mapScene.init(),e.mapScene.setData(t),e.enter()}else console.log("\u80cc\u666f\u52a0\u8f7d\u9519\u8bef\uff01",t.type)},cc.Prefab,!0)},e.prototype.setLevelEle=function(){this.setItems(this.mapData.items),this.setNPC1(this.mapData.npc.npc1),this.setNPC2(this.mapData.npc.npc2),this.setNPC3(this.mapData.npc.npc3),this.mapOk=!0,this.enter()},e.prototype.setItems=function(t){var e=t.length,o=t.value;if(0!=e)for(var i=1/e,n=0;n<e;n++){var r=i*(n+Math.random());this.addItem(o[n],r)}},e.prototype.addItem=function(t,e){var o="Item"+t,i=c.default.get(o,{porb:e});this.scene.addChild(i),i.setPosition(cc.v2(0,0));var n=i.getComponent(d.default);n.setData({inLevelData:{Life:100}}),this.levelEleScr.push(n),i.active=!1},e.prototype.setNPC1=function(t){var e=t.length,o=t.value;if(0!=e)for(var i=1/e,n=0;n<e;n++){var r=i*(n+Math.random()),s="Person"+o[n];this.addNPC(s,r)}},e.prototype.setNPC2=function(t){var e=t.length,o=t.value;if(0!=e)for(var i=1/e,n=0;n<e;n++){var r=i*(n+Math.random()),s="Fighter"+o[n];this.addNPC(s,r)}},e.prototype.setNPC3=function(t){var e=t.length;if(0!=e)for(var o=1/e,i=0;i<e;i++){var n=o*(i+Math.random());this.addNPC("Suspend1",n)}},e.prototype.addNPC=function(t,e){var o=c.default.get(t,{porb:e});this.scene.addChild(o),o.setPosition(cc.v2(0,0));var i=o.getComponent(u.default);i.setData({inLevelData:{Life:100,ATK:20}}),this.levelEleScr.push(i),o.active=!1},e.prototype.setBoss=function(t){var e=this;a.default.loadBundleRes("LevelScene","Prefab/Boss"+t,function(o){e.boss&&e.boss.node&&(e.boss.node.destroy(),e.boss=null);var i=cc.instantiate(o);e.node.getChildByName("boss").addChild(i),e.boss=i.getComponent(u.default),e.boss.init(),e.boss.setData(),e.bossOK=!0,e.countrolUI.setBoss(t),i.active=!1,e.enter()},cc.Prefab,!0)},e.prototype.enter=function(){if(this.player&&this.mapScene&&this.mapOk&&this.bossOK){var t=this.mapScene.getCameraData();this.emit(l.EventType.CameraEvent.viewLimit,t.bgSize),this.emit(l.EventType.CameraEvent.registerTarget,this.player.node),this.setHorizontalLine(t.horizontalLine),this.setEleSize(t.bgSize),this.setShowEle(),this.countrolUI.enter(this.startGame.bind(this)),this.customStep=this.stepEmpty,console.log("\u8fdb\u5165\u5173\u5361")}},e.prototype.setHorizontalLine=function(t){this.player.setHorizon(t);for(var e=0;e<this.levelEleScr.length;e++)this.levelEleScr[e].setHorizon(t);this.boss&&this.boss.setHorizon(t)},e.prototype.setShowEle=function(){this.player.node.active=!0;for(var t=0;t<this.levelEleScr.length;t++)this.levelEleScr[t].node.active=!0;this.boss&&(this.boss.node.active=!0)},e.prototype.setEleSize=function(t){t.width-=400,this.player.setlimitX(t);for(var e=0;e<this.levelEleScr.length;e++)this.levelEleScr[e].setlimitX(t);this.boss&&this.boss.setlimitX(t)},e.prototype.startGame=function(){this.onEvents(),this.player.startGame();for(var t=0;t<this.levelEleScr.length;t++){var e=this.levelEleScr[t];e.startGame&&e.startGame()}this.boss&&this.boss.startGame(),this.customStep=this.updateStep},e.prototype.playerControl=function(t){t&&("move"==t.type?this.controlMove(t.data):"attack"==t.type?this.attack():"shot"==t.type&&this.shot(t.data))},e.prototype.controlMove=function(t){this.player&&this.player.rackerControl(t)},e.prototype.attack=function(){this.player&&this.player.attackControl()},e.prototype.shot=function(t){this.player&&this.player.shotControl(t)},e.prototype.shotBullet=function(t){var e=t.node.convertToWorldSpaceAR(cc.v2()),o=t.node.convertToWorldSpaceAR(cc.v2(1,0));e=this.bullet.convertToNodeSpaceAR(e),o=this.bullet.convertToNodeSpaceAR(o);var i=this.actan2(o.sub(e));t.node.parent=this.bullet,t.node.setPosition(e),t.node.angle=i,t.shot()},e.prototype.playEffect=function(t){if(t){var e=t.type,o=c.default.get(e);e==h.GlobalEnum.EffectType.wreckage?this.wreckage.addChild(o):(this.effect.addChild(o),this.emit(l.EventType.SDKEvent.vibrateShort)),o.setPosition(this.node.convertToNodeSpaceAR(t.pos)),o.group="effect",t.data&&o.getComponent(e).setData(t.data)}},e.prototype.initPlayer=function(){this.player?this.player.reset():this.loadPlayer()},e.prototype.loadPlayer=function(t){var e=this;a.default.loadBundleRes("LevelScene","Prefab/Player",function(o){if(e.player&&e.player.node)e.player.reset();else{var i=cc.instantiate(o);e.node.getChildByName("player").addChild(i),e.player=i.getComponent(u.default),e.konglong=e.player,e.player.init()}t&&t(),a.default.loadBundleRes("LevelScene","Prefab/Player1",function(t){if(e.jijia&&e.jijia.node)e.jijia.reset();else{var o=cc.instantiate(t);e.node.getChildByName("player").addChild(o);var i=o.getComponent(u.default);e.jijia=i,e.jijia.init(),e.jijia.hide()}},cc.Prefab,!0)},cc.Prefab,!0)},e.prototype.playerDie=function(t){var e=this;this.playerPos=t.pos,this.timeDistance=1,this.customStep=this.setpOver,this.countrolUI.reset(),setTimeout(function(){e.customStep=e.stepEmpty,e.emit(l.EventType.LevelEvent.levelLose)},5e3)},e.prototype.foeClear=function(){var t=this;this.anima.play(),this.customStep=this.stepEmpty,setTimeout(function(){var e=t.player.getWinData();t.emit(l.EventType.LevelEvent.levelWin,e)},2e3)},e.prototype.updateStep=function(t){if(this.player&&this.player.customUpdate(t),this.sceneUpdate(t),this.boss&&this.boss.node){var e=cc.v2(this.player.node.x-this.boss.node.x,this.player.node.y+150-this.boss.node.y);this.boss.find(e),this.boss.customUpdate(t)}},e.prototype.sceneUpdate=function(t){for(var e=this.levelEleScr.length-1;e>=0;e--){var o=this.levelEleScr[e],i=cc.v2(this.player.node.x-o.node.x,this.player.node.y+150-o.node.y-70);Math.abs(i.x)>2e3||(o&&o.inLevelData.Life>0?(this.levelEleScr[e].customUpdate(t),o.find&&o.find(i)):this.levelEleScr.splice(e,1))}},e.prototype.setpOver=function(t){if(this.timeCooling-=t,this.timeCooling<=0){this.timeCooling=1/this.timeDistance,this.timeDistance<5&&this.timeDistance++;var e=this.playerPos.add(cc.v2(200,0).mul(Math.random()).rotate(360*Math.random()));this.emit(l.EventType.BombEvent.playEffect,{type:h.GlobalEnum.EffectType.burst,pos:e}),this.emit(l.EventType.AudioEvent.playEffect,h.GlobalEnum.AudioClip.noCarBomb),this.emit(l.EventType.SDKEvent.vibrateLong)}},e.prototype.actan2=function(t,e){var o=cc.v2();"number"==typeof t?(o.x=t,o.y=e):(o.x=t.x,o.y=t.y);var i=0;return 0==o.x?(o.y=0)?i=0:o.y>0?i=90:o.y<0&&(i=-90):o.x>0?i=Math.atan(o.y/o.x)*(180/Math.PI):o.x<0&&(i=o.y>=0?Math.atan(o.y/o.x)*(180/Math.PI)+180:Math.atan(o.y/o.x)*(180/Math.PI)-180),i},e.prototype.roleChange=function(){var t=this;if(this.state)this.state=!1,this.jijia.hide(),this.player=null,e=this.jijia.getRoleChangeData(),this.konglong.setRoleChangeData(e),this.player=this.konglong,setTimeout(function(){t.player.show(),t.emit(l.EventType.MainSceneEvent.controlChange,"konglong")},1500),this.emit(l.EventType.AudioEvent.playEffect,h.GlobalEnum.AudioClip.change);else{if(this.konglong.impending)return;this.state=!0,this.konglong.hide(),this.player=null;var e=this.konglong.getRoleChangeData();this.jijia.setRoleChangeData(e),this.player=this.jijia,this.player.show(),this.emit(l.EventType.MainSceneEvent.controlChange,"jijia"),this.emit(l.EventType.AudioEvent.playEffect,h.GlobalEnum.AudioClip.change)}},r([_(cc.Node)],e.prototype,"scene",void 0),r([_(cc.Node)],e.prototype,"bullet",void 0),r([_(cc.Node)],e.prototype,"effect",void 0),r([_(cc.Node)],e.prototype,"wreckage",void 0),r([_(f.default)],e.prototype,"countrolUI",void 0),r([_(s.default)],e.prototype,"anima",void 0),r([m],e)}(p.default);o.default=g,cc._RF.pop()},{"../../MainScene/Image/winAnima/WinAnim":void 0,"../../Script/Common/GlobalPool":void 0,"../../Script/Common/Loader":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0,"./CollisComp":"CollisComp","./control/ControlUI":"ControlUI","./items/Item":"Item","./mapScene/MapScene":"MapScene"}],MapGround:[function(t,e,o){"use strict";cc._RF.push(e,"4e858bNQeJP5J+XIyRJUA1W","MapGround");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisComp"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collisType=s.GlobalEnum.CollisType.ground,e.collisGroup=s.GlobalEnum.collisGroup.ground,e}return n(e,t),r([p],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisComp":"CollisComp"}],MapScene:[function(t,e,o){"use strict";cc._RF.push(e,"3bcd53ChMlJMr+cOivxb6hX","MapScene");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/yyComponent"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){},e.prototype.reset=function(){var t=this.node.children;if(t.length>9)for(;t.length>9;){var e=t[t.length-1];e.removeFromParent(!1),e.destroy()}},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(t){if(t){var e=this.node.children;e.length>9&&this.reset();var o=t.length,i=t.value;if(i.length<=8)for(var n=1;n<=8;n++)e[n].active=n<=o;else for(n=8;n<o;n++){var r=i[n].toString(),s=this.node.getChildByName(r),c=cc.instantiate(s);this.node.addChild(c)}}this.node.getComponent(cc.Layout).updateLayout(),this.resetCollisBox()},e.prototype.resetCollisBox=function(){var t=this.node.getComponent(cc.BoxCollider);t.offset=cc.v2(this.node.width/2,this.node.getChildByName("0").y-10),t.size=cc.size(this.node.width,10)},e.prototype.getCameraData=function(){var t={};return t.horizontalLine=this.node.getChildByName("0").y,t.bgSize=cc.rect(this.node.x+this.node.width/2,0,this.node.width,this.node.height),t},r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"../../../Script/Common/yyComponent":void 0}],MyLevelManager:[function(t,e,o){"use strict";cc._RF.push(e,"96965tMQ3pGBpQf/2vNsU/8","MyLevelManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./LevelManager"),c=t("../../Script/GameSpecial/GlobalEnum"),a=t("../../Script/GameSpecial/GameEventType"),p=t("./LevelCamera"),l=t("../../Script/Common/Loader"),h=cc._decorator,u=h.ccclass,f=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.mainSceneScr=null,e}return n(e,t),e.prototype.init=function(){this.initCamera(),this.initCustomUpdateState(),this.initLevelTimer(),this.initActMng(),this.initEnterLobbyState(),this.loadLobbyItems(),this.registAllCustomUpdate(),this.onEvents(),this.loadMainScene()},e.prototype.registAllCustomUpdate=function(){this.registCustomUpdate(c.GlobalEnum.LevelState.playing,this.stepLevelPlaying),this.registCustomUpdate(c.GlobalEnum.LevelState.win,this.stepLevelWin),this.registCustomUpdate(c.GlobalEnum.LevelState.lose,this.stepLevelLose),this.registCustomUpdate(c.GlobalEnum.LevelState.lobby,this.stepLobby)},e.prototype.onEvents=function(){this.on(a.EventType.DirectorEvent.pauseLevel,this.pause,this),this.on(a.EventType.DirectorEvent.resumeLevel,this.resume,this),this.on(a.EventType.LevelEvent.levelLose,this.onLevelLose,this),this.on(a.EventType.LevelEvent.levelWin,this.onLevelWin,this)},e.prototype.loadLobbyItems=function(){},e.prototype.reset=function(){this.resetCamera(),this.resetCustomUpdateState(),this.resetLevelTimer(),this.mainSceneScr&&this.mainSceneScr.reset()},e.prototype.loadMainScene=function(t){var e=this;l.default.loadBundleRes("LevelScene","Prefab/MainScene",function(o){if(!e.mainSceneScr){var i=cc.instantiate(o);e.node.getChildByName("MainScene").addChild(i),e.mainSceneScr=i.getComponent("MainSceneScr"),e.mainSceneScr.init()}t&&setTimeout(function(){t()},0)},cc.Prefab,!0)},e.prototype.enterLevel=function(t){this.node.active=!0,this.needLoadCount<=0?(this.reset(),this.levelData=t,this.loadScene()):(this.levelData=t,this.nextState=c.GlobalEnum.LevelState.playing)},e.prototype.loadScene=function(){this.mainSceneScr?this._enterLevel():this.loadMainScene(this._enterLevel.bind(this))},e.prototype._enterLevel=function(){this.setData(),this.startLevel(),this.camera.cameraStart()},e.prototype.setData=function(){this.camera.setData([this.node.width,this.node.height]),this.mainSceneScr.setData(this.levelData)},e.prototype.setTeachCmp=function(){},e.prototype.setEnterLobbyData=function(){},e.prototype.initPlayer=function(){},e.prototype.resetPlayer=function(){},e.prototype.setPlayer=function(){},e.prototype.updatePlayer=function(){},e.prototype.initCamera=function(){this.camera.init()},e.prototype.resetCamera=function(){this.camera.reset()},e.prototype.updateCamera=function(t){this.camera.customUpdate(t)},e.prototype.stepLevelPlaying=function(t){this.updateCamera(t),this.updatePlayer(t),this.mainSceneScr.customUpdate(t)},e.prototype.stepLevelWin=function(){},e.prototype.getWinData=function(){var t={};return t.lv=this.levelData.lv,t},e.prototype.stepLevelLose=function(){},e.prototype.stepLobby=function(){},e.prototype.onLevelWin=function(t){t.lv=this.levelData.lv,this.win(t)},e.prototype.onLevelLose=function(){this.lose()},r([f(p.default)],e.prototype,"camera",void 0),r([u],e)}(s.default);o.default=d,cc._RF.pop()},{"../../Script/Common/Loader":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0,"./LevelCamera":"LevelCamera","./LevelManager":"LevelManager"}],Person10:[function(t,e,o){"use strict";cc._RF.push(e,"d20400isDVDJ600tipmraVp","Person10");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),c=t("./Person"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.voice=s.GlobalEnum.AudioClip.manVoice,e}return n(e,t),r([p],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"./Person":"Person"}],Person1:[function(t,e,o){"use strict";cc._RF.push(e,"c24e27BR8lNKaYSC7VOKOoF","Person1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),c=t("./Person"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.voice=s.GlobalEnum.AudioClip.manVoice,e}return n(e,t),r([p],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"./Person":"Person"}],Person2:[function(t,e,o){"use strict";cc._RF.push(e,"a3a7djX0/lBZKwFwhtYvaC6","Person2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),c=t("./Person"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.voice=s.GlobalEnum.AudioClip.manVoice,e}return n(e,t),r([p],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"./Person":"Person"}],Person3:[function(t,e,o){"use strict";cc._RF.push(e,"949213mQNxCVqoMBhtXKYtG","Person3");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Person"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Person":"Person"}],Person4:[function(t,e,o){"use strict";cc._RF.push(e,"8bb39GrkWJIF7NLCu7QVdxd","Person4");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Person"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Person":"Person"}],Person5:[function(t,e,o){"use strict";cc._RF.push(e,"51149Lb5aJAkrdp1TPQjj3V","Person5");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Person"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Person":"Person"}],Person6:[function(t,e,o){"use strict";cc._RF.push(e,"4d73eIn3nNPRb0Hh7ddOS1n","Person6");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Person"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Person":"Person"}],Person7:[function(t,e,o){"use strict";cc._RF.push(e,"3b63dQV+UVNU4t3wjboUTWn","Person7");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Person"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Person":"Person"}],Person8:[function(t,e,o){"use strict";cc._RF.push(e,"3ca5f0y3J1AT58WoQJhaqpq","Person8");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Person"),c=cc._decorator,a=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),r([a],e)}(s.default));o.default=p,cc._RF.pop()},{"./Person":"Person"}],Person9:[function(t,e,o){"use strict";cc._RF.push(e,"0bffcIX9ORJ8q/T+RcM0pFq","Person9");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),c=t("./Person"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.voice=s.GlobalEnum.AudioClip.manVoice,e}return n(e,t),r([p],e)}(c.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"./Person":"Person"}],Person:[function(t,e,o){"use strict";cc._RF.push(e,"2f236txLStIIr+gBY9+DiWq","Person");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/GameSpecial/GameEventType"),a=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisComp"),l=cc._decorator,h=l.ccclass,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collisType=a.GlobalEnum.CollisType.npc,e.direction=0,e.voice=a.GlobalEnum.AudioClip.womanVoice,e.anima=null,e.speed=100,e.canMove=!1,e.posD_value=0,e.actionLimit=null,e}return n(e,t),e.prototype.init=function(t){this.reset(),this.customStep=this.dtUp,t&&t.porb&&(this.posD_value=t.porb)},e.prototype.reset=function(){this.direction=0,this.posD_value=0,this.playAnima("stand"),this.canMove=!1,this.actionLimit=null,this.resetLifeBar(),this.customStep=this.stepEmpty},e.prototype.reuse=function(t){this.reset(),this.customStep=this.dtUp,t&&t.porb&&(this.posD_value=t.porb)},e.prototype.unuse=function(){this.reset()},e.prototype.setData=function(t){t&&t.inLevelData&&this.setInLevelData(t.inLevelData)},e.prototype.find=function(t){if(Math.abs(t.x)<400){var e=t.x>0?1:-1;this.direction!=e&&(this.playAnima("move"),this.direction=e)}else this.leave()},e.prototype.leave=function(){this.direction=0},e.prototype.findDinosaur=function(){0!=this.direction?this.node.scaleX=-this.direction:this.playAnima("stand")},e.prototype.flee=function(){this.emit(c.EventType.AudioEvent.playEffect,this.voice),console.log("\u9003\u79bb"),this.node.scaleX*=-1,this.canMove=!0},e.prototype.tumble=function(){console.log("\u6454\u5012\u4e86"),this.canMove=!1},e.prototype.playAnima=function(t){this.anima||(this.anima=this.node.getComponent(cc.Animation));var e=this.anima.currentClip;e&&e.name==t||this.anima.play(t)},e.prototype.stopAnima=function(){this.anima||(this.anima=this.node.getComponent(cc.Animation)),this.anima.stop()},e.prototype.dtUp=function(t){if(this.canMove){var e=this.node.getPosition();e.x-=this.speed*this.node.scaleX*t,this.actionLimit&&(e.x<this.actionLimit.x?e.x=this.actionLimit.x:e.x>this.actionLimit.y&&(e.x=this.actionLimit.y)),this.node.setPosition(e)}},e.prototype.setHorizon=function(t){var e=this.node.getPosition();e.y=t,this.setPosition(e)},e.prototype.setlimitX=function(t){var e=this.node.getPosition();e.x=t.x+(this.posD_value-.5)*t.width,this.node.setPosition(e),this.actionLimit=cc.v2(t.x-t.width/2,t.x+t.width/2)},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(p.default);e.collisType==a.GlobalEnum.CollisType.bullet&&e.collisGroup==a.GlobalEnum.collisGroup.palyer&&this.beInjured(e.ATK)},e.prototype.beInjured=function(t){if(this.inLevelData.Life>t)this.inLevelData.Life-=t,this.updateLife();else{var e=this.node.convertToWorldSpaceAR(cc.v2(0,this.node.height/2));this.emit(c.EventType.BombEvent.playEffect,{type:a.GlobalEnum.EffectType.blood,pos:e}),s.default.put(this.node),this.emit(c.EventType.FoeEvent.die,1)}},e.prototype.stopAction=function(){this.stopAnima(),this.customStep=this.stepEmpty},e.prototype.yaoDie=function(){var t=this.node.convertToWorldSpaceAR(cc.v2(0,this.node.height/2));this.emit(c.EventType.BombEvent.playEffect,{type:a.GlobalEnum.EffectType.blood,pos:t}),s.default.put(this.node),this.emit(c.EventType.FoeEvent.die,1)},r([h],e)}(p.default));o.default=u,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisComp":"CollisComp"}],Player1:[function(t,e,o){"use strict";cc._RF.push(e,"89416SrgHZDKqhzlJTw/tkq","Player1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,c=t("../../../Script/GameSpecial/GameEventType"),a=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisComp");(function(t){t.toWalk="toWalk",t.walk="walk",t.shot="shot",t.come="come",t.leave="leave",t.daiji="daiji"})(s||(s={}));var l=cc._decorator,h=l.ccclass,u=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collisType=a.GlobalEnum.CollisType.palyer,e.collisGroup=a.GlobalEnum.collisGroup.palyer,e.directionY=0,e.directionX=0,e.attackTime=0,e.shotAttack=!1,e.canControl=!1,e.actionLimit=null,e.speedXMax=400,e.speedX=0,e.acceX=2e3,e.drag=.75,e.canMove=!1,e.speedYOrigin=1500,e.speedY=0,e.acceY=3200,e.horizontalLine=0,e.anima=null,e.CollisShot=[],e.collisScrS={},e}return n(e,t),e.prototype.shotStart=function(){this.attackDispose()},e.prototype.shotEnd=function(){},e.prototype.init=function(){this.onEvents(),this.initInLevelData(),this.customStep=this.stepUpdate},e.prototype.reset=function(){this.offEvents(),this.collisScrS={},this.node.setPosition(cc.v2(0,0)),this.resetData(),this.hideNode()},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(){},e.prototype.show=function(){this.node.active=!0,this.playAnima(s.come),this.canControl=!1,this.emit(c.EventType.CameraEvent.registerTarget,this.node)},e.prototype.hide=function(){this.playAnima(s.leave),this.canControl=!1},e.prototype.hideNode=function(){this.node.active=!1},e.prototype.resetData=function(){this.resetInLevelData(),this.actionLimit=null},e.prototype.startGame=function(){this.node.active=!0,this.onEvents()},e.prototype.stepUpdate=function(t){this.stateChange(t),this.canMove&&this.moveH(t)},e.prototype.getRoleChangeData=function(){var t={};return t.ATK=this.inLevelData.ATK,t.Life=this.inLevelData.Life,t.originLife=this.originLife,t.pos=this.node.getPosition(),t.direc=this.node.scaleX,t},e.prototype.setRoleChangeData=function(t){t.ATK&&(this.inLevelData.ATK=t.ATK),t.Life&&(this.inLevelData.Life=t.Life),t.originLife&&(this.originLife=t.originLife),t.pos&&this.node.setPosition(t.pos),t.direc&&t.direc*this.node.scaleX>0&&(this.node.scaleX=-this.node.scaleX)},e.prototype.onEvents=function(){},e.prototype.offEvents=function(){},e.prototype.attackDispose=function(){var t=this.CollisShot.length;if(t>0)for(var e=t-1;e>=0;e--){var o=this.collisScrS[this.CollisShot[e]];o&&o.beInjured&&o.beInjured(10*this.inLevelData.ATK),console.log("\u8981\u653b\u51fb")}},e.prototype.rackerControl=function(t){this.canControl&&(t?0==t.x?this.directionX=0:this.directionX=t.x>0?1:-1:this.directionX=0)},e.prototype.attackControl=function(){},e.prototype.shotControl=function(){this.canControl&&(this.canControl=!1,this.canMove=!1,this.playAnima(s.shot),this.emit(c.EventType.AudioEvent.playEffect,a.GlobalEnum.AudioClip.raxShot))},e.prototype.stateChange=function(){0!=this.directionX?(this.node.scaleX*this.directionX>0&&(this.node.scaleX=-this.node.scaleX),this.canControl&&!this.canMove&&(this.canMove=!0,this.playAnima(s.toWalk))):(this.canMove=!1,this.canControl&&this.playAnima(s.daiji))},e.prototype.moveH=function(t){if(this.canMove&&(this.speedX=this.directionX*this.speedXMax,0!=this.speedX)){var e=this.node.getPosition();e.x+=this.speedX*t,this.actionLimit&&(e.x<this.actionLimit.x?e.x=this.actionLimit.x:e.x>this.actionLimit.y&&(e.x=this.actionLimit.y)),this.node.setPosition(e)}},e.prototype.setHorizon=function(t){this.horizontalLine=t;var e=this.node.getPosition();e.y=this.horizontalLine,this.node.setPosition(e)},e.prototype.setlimitX=function(t){this.actionLimit=cc.v2(t.x-t.width/2,t.x+t.width/2)},e.prototype.playAnima=function(t){if(t){var e="";this.anima.currentClip&&(e=this.anima.currentClip.name),e!=t&&this.anima.play(t)}else this.playAnima(s.daiji)},e.prototype.clipOver=function(){var t=this.anima.currentClip.name;t==s.come?(this.playAnima(s.daiji),this.canControl=!0):t==s.toWalk?this.playAnima(s.walk):t==s.shot?(this.playAnima(s.daiji),this.canControl=!0):t==s.leave?(this.playAnima(s.daiji),this.hideNode()):t==s.walk||s.daiji},e.prototype.onCollisionEnter=function(t,e){var o=t.uuid;0==e.tag&&(this.CollisShot.push(t.uuid),this.collisScrPush(o,t));var i=t.node.getComponent(p.default);i.collisType==a.GlobalEnum.CollisType.bullet&&i.collisGroup==a.GlobalEnum.collisGroup.foe&&this.beInjured(i.ATK)},e.prototype.collisScrPush=function(t,e){if(!this.collisScrS[t]){var o=e.node.getComponent(p.default);o&&(this.collisScrS[t]=o)}},e.prototype.onCollisionStay=function(){},e.prototype.onCollisionExit=function(t,e){if(0==e.tag){var o=this.CollisShot.indexOf(t.uuid);-1!=o&&this.CollisShot.splice(o,1)}},e.prototype.beInjured=function(t){if(this.inLevelData.Life>t)this.inLevelData.Life-=t,this.updateLife();else{this.inLevelData.Life-=t,this.updateLife();var e=this.node.convertToWorldSpaceAR(cc.v2(0,150));this.emit(c.EventType.PlayerEvent.death,{pos:e})}},e.prototype.updateLife=function(){this.emit(c.EventType.ControlEvent.changeUI,{type:"playerLife",value:this.inLevelData.Life/this.originLife})},e.prototype.getWinData=function(){return{star:this.inLevelData.Star}},r([u(cc.Animation)],e.prototype,"anima",void 0),r([h],e)}(p.default);o.default=f,cc._RF.pop()},{"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisComp":"CollisComp"}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"ba174UwSwhCQ5PX3iX7G6PJ","Player");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,c=t("../../../Script/Common/Action3dManager"),a=t("../../../Script/Common/GameData"),p=t("../../../Script/Common/GlobalPool"),l=t("../../../Script/Common/PlayerData"),h=t("../../../Script/GameSpecial/GameEventType"),u=t("../../../Script/GameSpecial/GlobalEnum"),f=t("../CollisComp"),d=t("../prefabScr/Bullet");(function(t){t.daiji="daiji",t.dun="dun",t.pao="pao",t.tiao="tiao",t.cai="cai",t.yao="yao",t.diao="diao"})(s||(s={}));var y=cc._decorator,v=y.ccclass,m=y.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collisType=u.GlobalEnum.CollisType.palyer,e.collisGroup=u.GlobalEnum.collisGroup.palyer,e.directionY=0,e.directionX=0,e.attackTime=0,e.isShoting=!1,e.impending=!1,e.actionLimit=null,e.speedXMax=400,e.speedX=0,e.acceX=2e3,e.drag=.75,e.speedYOrigin=1500,e.speedY=0,e.acceY=3200,e.horizontalLine=0,e.body=null,e.bodyAnim=null,e.CollisHead=[],e.CollisFoot=[],e.collisScrS={},e.muzzle=null,e.danke=null,e.shotSpeed=.1,e.shotTime=0,e}return n(e,t),e.prototype.init=function(){this.onEvents(),this.initSkeleton(),this.initInLevelData(),this.customStep=this.stepUpdate},e.prototype.reset=function(){this.offEvents(),this.collisScrS={},this.node.setPosition(cc.v2(0,0)),this.resetData(),this.hide()},e.prototype.reuse=function(){this.initSkeleton()},e.prototype.unuse=function(){},e.prototype.setData=function(){this.setLvData(),this.setSkin()},e.prototype.resetData=function(){this.resetInLevelData(),this.actionLimit=null},e.prototype.startGame=function(){this.onEvents();var t=this.node.convertToWorldSpaceAR(cc.v2(0,0));this.emit(h.EventType.BombEvent.playEffect,{type:u.GlobalEnum.EffectType.landing,pos:t,data:{cb:this.show.bind(this)}})},e.prototype.stepUpdate=function(t){this.stateChange(t),this.speedChange(t),this.moveH(t),this.moveV(t),this.isShot(t)},e.prototype.show=function(){this.node.active=!0,this.emit(h.EventType.CameraEvent.registerTarget,this.node)},e.prototype.hide=function(){this.node.active=!1},e.prototype.getRoleChangeData=function(){var t={};return t.ATK=this.inLevelData.ATK,t.Life=this.inLevelData.Life,t.originLife=this.originLife,t.pos=this.node.getPosition(),t.direc=this.node.scaleX,t},e.prototype.setRoleChangeData=function(t){t.ATK&&(this.inLevelData.ATK=t.ATK),t.Life&&(this.inLevelData.Life=t.Life),t.originLife&&(this.originLife=t.originLife),t.pos&&this.node.setPosition(t.pos),t.direc&&t.direc*this.node.scaleX>0&&(this.node.scaleX=-this.node.scaleX)},e.prototype.onEvents=function(){this.on(h.EventType.PlayerEvent.attack,this.attackDispose,this)},e.prototype.offEvents=function(){this.off(h.EventType.PlayerEvent.attack,this.attackDispose,this)},e.prototype.attackDispose=function(t){if("cai"===t){if((o=this.CollisFoot.length)>0)for(var e=o-1;e>=0;e--)(i=this.collisScrS[this.CollisFoot[e]])&&i.beInjured&&i.beInjured(this.inLevelData.ATK),console.log("\u8e29\u653b\u51fb")}else if("yao"===t){if((o=this.CollisHead.length)>0)for(e=o-1;e>=0;e--)(i=this.collisScrS[this.CollisHead[e]])&&i.beInjured&&i.beInjured(3*this.inLevelData.ATK),console.log("\u4e0b\u54ac\u653b\u51fb")}else if("diao"===t){var o;if((o=this.CollisHead.length)>0)for(e=o-1;e>=0;e--){var i;if((i=this.collisScrS[this.CollisHead[e]])&&i.beInjured)if(i.collisType==u.GlobalEnum.CollisType.npc){if("Suspend1"==i.node.name){this.shangpao1(i);continue}this.shangpao(i),console.log("\u4e0a\u6311\u653b\u51fb")}else i.beInjured(3*this.inLevelData.ATK),console.log("\u4e0b\u54ac\u653b\u51fb")}}},e.prototype.shangpao=function(t){t.stopAction();var e=c.default.delay(.4),o=c.default.moveBy(.4,-50*this.node.scaleX,350),i=c.default.moveBy(.4,25*this.node.scaleX,-140),n=c.default.callFun(this.npcDie,this,t),r=c.default.sequence(e,o,i,n);c.default.getMng(c.ActionMngType.Level).runAction(t.node,r)},e.prototype.shangpao1=function(t){t.stopAction();var e=c.default.delay(.6),o=c.default.moveBy(.3,-50*this.node.scaleX,350),i=c.default.moveBy(.3,25*this.node.scaleX,-140),n=c.default.callFun(this.npcDie,this,t),r=c.default.sequence(e,o,i,n);c.default.getMng(c.ActionMngType.Level).runAction(t.node,r)},e.prototype.npcDie=function(t){t.yaoDie&&t.yaoDie()},e.prototype.rackerControl=function(t){t?(0!=t.y&&Math.abs(t.x/t.y)<1?this.directionY=t.y>0?1:-1:this.directionY=0,0==t.x?this.directionX=0:this.directionX=t.x>0?1:-1):(this.directionX=0,this.directionY=0)},e.prototype.attackControl=function(){var t=this;if(this.attackTime<=0)if(this.impending||0!=this.CollisHead.length||0==this.CollisFoot.length){if(!(this.CollisHead.length>0))return this.playAnim(s.diao),this.attackTime=1.4,void setTimeout(function(){t.emit(h.EventType.AudioEvent.playEffect,u.GlobalEnum.AudioClip.voiceWin)},500);for(var e=0;e<this.CollisHead.length;e++)if(this.collisScrS[this.CollisHead[e]].collisType==u.GlobalEnum.CollisType.npc)return this.diao_Attack(),void(this.attackTime=1.4);this.yao_Attack(),this.attackTime=.6}else this.jiao_Attack(),this.attackTime=1},e.prototype.shotControl=function(t){"down"==t.type?this.isShoting=!0:"up"==t.type&&(this.isShoting=!1)},e.prototype.yao_Attack=function(){var t=this;this.playAnim(s.yao),setTimeout(function(){t.emit(h.EventType.PlayerEvent.attack,"yao")},200)},e.prototype.diao_Attack=function(){this.playAnim(s.diao),this.emit(h.EventType.PlayerEvent.attack,"diao")},e.prototype.jiao_Attack=function(){var t=this;this.playAnim(s.cai),this.CollisFoot.length>0&&setTimeout(function(){t.emit(h.EventType.PlayerEvent.attack,"cai");var e=t.node.convertToWorldSpaceAR(cc.v2(100,0));t.emit(h.EventType.BombEvent.playEffect,{type:u.GlobalEnum.EffectType.dust,pos:e,data:{minAngle:0,maxAngle:180}}),t.emit(h.EventType.BombEvent.playEffect,{type:u.GlobalEnum.EffectType.dust,pos:e,data:{minAngle:0,maxAngle:180}}),t.emit(h.EventType.AudioEvent.playEffect,u.GlobalEnum.AudioClip.noCarBomb)},550)},e.prototype.stateChange=function(t){0!=this.directionX&&this.node.scaleX*this.directionX<0&&(this.node.scaleX=-this.node.scaleX),this.attackTime>0?this.attackTime-=t:this.attackTime=0,this.attackTime>0||(this.impending?this.playAnim(s.tiao):-1==this.directionY?(this.directionX=0,this.playAnim(s.dun)):0!=this.speedX?this.playAnim(s.pao):0==this.speedX&&this.attackTime<=0&&this.playAnim(s.daiji))},e.prototype.speedChange=function(t){this.attackTime>0?this.speedX=0:this.speedX=this.directionX*this.speedXMax,this.impending?this.speedY<-this.speedYOrigin?this.speedY=-this.speedYOrigin:this.speedY-=this.acceY*t:1==this.directionY?(this.speedY=this.speedYOrigin,this.impending=!0,this.emit(h.EventType.AudioEvent.playEffect,u.GlobalEnum.AudioClip.jump)):this.speedY=0},e.prototype.moveH=function(t){if(0!=this.speedX){var e=this.node.getPosition();e.x+=this.speedX*t,this.actionLimit&&(e.x<this.actionLimit.x?e.x=this.actionLimit.x:e.x>this.actionLimit.y&&(e.x=this.actionLimit.y)),this.node.setPosition(e),this.impending||this.emit(h.EventType.AudioEvent.playEffect,u.GlobalEnum.AudioClip.walk)}},e.prototype.moveV=function(t){var e,o=this;this.impending?((e=this.node.getPosition()).y+=this.speedY*t,e.y<this.horizontalLine&&(e.y=this.horizontalLine,this.impending=!1,setTimeout(function(){o.emit(h.EventType.CameraEvent.shanke)},80)),this.node.setPosition(e)):((e=this.node.getPosition()).y=this.horizontalLine,this.node.setPosition(e))},e.prototype.setHorizon=function(t){this.horizontalLine=t;var e=this.node.getPosition();e.y=this.horizontalLine,this.node.setPosition(e)},e.prototype.setlimitX=function(t){this.actionLimit=cc.v2(t.x-t.width/2,t.x+t.width/2)},e.prototype.initSkeleton=function(){this.bodyAnim||(this.bodyAnim=this.body.getComponent(sp.Skeleton))},e.prototype.getAnima=function(){return this.bodyAnim.animation},e.prototype.setAnima=function(t,e,o){this.bodyAnim.setAnimation(t,e,o)},e.prototype.clearTrack=function(t){this.bodyAnim.clearTrack(t)},e.prototype.setLvData=function(){var t=l.default.getCurSkinId();a.default.getData(u.GlobalEnum.GameDataType.playerSkin,t),this.setInLevelData({ATK:50,Life:1e4,BLT:100})},e.prototype.setSkin=function(){this.bodyAnim.setSkin("ski12")},e.prototype.playAnim=function(t,e){if(void 0===e&&(e=!1),this.getAnima()!==t){var o;o=t==s.daiji||t==s.pao||t==s.dun;var i=0;e&&(i=1),this.setAnima(i,t,o),t==s.diao?this.bodyAnim.timeScale=.5:this.bodyAnim.timeScale=1}},e.prototype.onCollisionEnter=function(t,e){var o=t.node.getComponent(f.default);if(!o||o.collisGroup!=u.GlobalEnum.collisGroup.ground){var i=t.uuid;0==e.tag?(this.CollisFoot.push(i),this.collisScrPush(i,t)):1==e.tag&&(this.CollisHead.push(t.uuid),this.collisScrPush(i,t))}},e.prototype.collisScrPush=function(t,e){if(!this.collisScrS[t]){var o=e.node.getComponent(f.default);o&&(this.collisScrS[t]=o)}},e.prototype.onCollisionStay=function(){},e.prototype.onCollisionExit=function(t,e){if(0==e.tag){var o=this.CollisFoot.indexOf(t.uuid);-1!=o&&this.CollisFoot.splice(o,1)}else if(1==e.tag){var i=this.CollisHead.indexOf(t.uuid);-1!=i&&this.CollisHead.splice(i,1)}else{var n=t.node.getComponent(f.default);n.collisType==u.GlobalEnum.CollisType.bullet&&n.collisGroup==u.GlobalEnum.collisGroup.foe&&this.beInjured(n.ATK)}},e.prototype.beInjured=function(t){if(this.inLevelData.Life>t)this.inLevelData.Life-=t,this.updateLife();else{this.inLevelData.Life-=t,this.updateLife();var e=this.node.convertToWorldSpaceAR(cc.v2(0,150));this.emit(h.EventType.PlayerEvent.death,{pos:e}),this.playAnim(s.dun)}},e.prototype.meadBullet=function(){var t=p.default.get("Bullet1");this.muzzle.addChild(t),t.setPosition(cc.v2(0,0));var e=t.getComponent(d.default);return e.setData({group:this.node.group,ATK:this.inLevelData.ATK}),e},e.prototype.isShot=function(t){this.isShoting&&0!=this.inLevelData.BLT&&(this.shotTime-=t,this.shotTime<0&&(this.shotTime=this.shotSpeed,this.gun_Attack()))},e.prototype.gun_Attack=function(){var t=this.meadBullet();this.emit(h.EventType.PlayerEvent.shot,t);var e=this.danke.convertToWorldSpaceAR(cc.v2(0,0));this.emit(h.EventType.BombEvent.playEffect,{type:u.GlobalEnum.EffectType.BulletBox,pos:e,data:{}}),this.emit(h.EventType.AudioEvent.playEffect,u.GlobalEnum.AudioClip.oneGun)},e.prototype.updateLife=function(){this.emit(h.EventType.ControlEvent.changeUI,{type:"playerLife",value:this.inLevelData.Life/this.originLife})},e.prototype.getWinData=function(){return{star:this.inLevelData.Star}},r([m(cc.Node)],e.prototype,"body",void 0),r([m(cc.Node)],e.prototype,"muzzle",void 0),r([m(cc.Node)],e.prototype,"danke",void 0),r([v],e)}(f.default);o.default=_,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/Common/GameData":void 0,"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/PlayerData":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisComp":"CollisComp","../prefabScr/Bullet":"Bullet"}],RackerController:[function(t,e,o){"use strict";cc._RF.push(e,"cca76nGCmZEvLK9TK3g3QpY","RackerController");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/yyComponent"),c=cc._decorator,a=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EventName=null,e.pole=null,e.maxDistance=null,e.vec=null,e}return n(e,t),e.prototype.init=function(t){this.initPole(),this.onEvents(),t&&this.setData(t)},e.prototype.reuse=function(t){this.initPole(),this.onEvents(),t&&this.setData(t)},e.prototype.unuse=function(){this.offEvents()},e.prototype.reset=function(){this.resetPole(),this.offEvents(),this.EventName=null},e.prototype.setData=function(t){t.EventName&&(this.EventName=t.EventName)},e.prototype.onEvents=function(){},e.prototype.offEvents=function(){},e.prototype.sendEvent=function(t){var e="controlMove";this.EventName&&(e=this.EventName),this.emit(e,t)},e.prototype.initPole=function(){this.pole.setPosition(cc.v2()),this.maxDistance=this.node.width/2},e.prototype.resetPole=function(){this.pole.setPosition(cc.v2())},e.prototype.poleFollow=function(t){if(t){var e=this.node.convertToNodeSpaceAR(t);e.lengthSqr()>this.maxDistance*this.maxDistance&&e.normalizeSelf().mulSelf(this.maxDistance),this.pole.setPosition(e),this.vec=e.mul(1/this.maxDistance)}else this.pole.setPosition(cc.v2()),this.vec=cc.v2();this.sendEvent(this.vec)},e.prototype.touchStart=function(t){this.poleFollow(t.getLocation())},e.prototype.touchMove=function(t){this.poleFollow(t.getLocation())},e.prototype.touchEnd=function(){this.poleFollow()},e.prototype.touchCancel=function(){this.poleFollow()},r([p(cc.Node)],e.prototype,"pole",void 0),r([a],e)}(s.default);o.default=l,cc._RF.pop()},{"../../../Script/Common/yyComponent":void 0}],Suspend1:[function(t,e,o){"use strict";cc._RF.push(e,"c5398IeCPhE7Kc0ybXIhBDW","Suspend1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/GameSpecial/GameEventType"),a=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisComp"),l=t("../prefabScr/Bullet"),h=cc._decorator,u=h.ccclass,f=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collisType=a.GlobalEnum.CollisType.npc,e.direc=cc.v2(0,0),e.speed=120,e.moveDirect=0,e.isLive=!0,e.isMove=!1,e.joints=null,e.stateSpriteF=[],e.spr=null,e.muzzle=null,e.shotSpeed=1,e.shotTime=0,e.isShoting=!1,e.posD_value=0,e.actionLimit=null,e}return n(e,t),e.prototype.init=function(t){this.reset(),t&&t.porb&&(this.posD_value=t.porb),this.customStep=this.dtUp},e.prototype.reset=function(){this.isLive=!0,this.posD_value=0,this.actionLimit=null,this.resetLifeBar(),this.customStep=this.stepEmpty},e.prototype.reuse=function(t){this.reset(),t&&t.porb&&(this.posD_value=t.porb),this.customStep=this.dtUp},e.prototype.unuse=function(){},e.prototype.setData=function(t){t&&t.inLevelData&&this.setInLevelData(t.inLevelData)},e.prototype.find=function(t){t&&(this.node.scaleX=t.x>0?-1:1,this.direc=t),Math.abs(this.direc.x)<500?this.moveDirect=this.direc.x>0?-1:1:this.moveDirect=0},e.prototype.dtUp=function(t){if(0!=this.moveDirect){this.isMove=!0;var e=this.node.getPosition();e.x+=this.speed*this.moveDirect*t,this.actionLimit&&(e.x<this.actionLimit.x?e.x=this.actionLimit.x:e.x>this.actionLimit.y&&(e.x=this.actionLimit.y)),this.node.setPosition(e)}else this.isMove&&(this.isMove=!1);this.raiseWeapom(),this.isShot(t)},e.prototype.rotateBody=function(t){this.joints.angle=t},e.prototype.raiseWeapom=function(){if(Math.abs(this.direc.x)<600){var t=this.actan2(this.direc);this.node.scaleX>0?t-=180:t=-t,this.rotateBody(t),this.isShoting=!0,this.spr.spriteFrame=this.stateSpriteF[1]}else this.disarm(),this.isShoting=!1,this.spr.spriteFrame=this.stateSpriteF[0]},e.prototype.disarm=function(){this.joints.angle=0},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(p.default);e.collisType==a.GlobalEnum.CollisType.bullet&&e.collisGroup==a.GlobalEnum.collisGroup.palyer&&this.beInjured(e.ATK)},e.prototype.beInjured=function(t){if(this.inLevelData.Life>t)this.inLevelData.Life-=t,this.updateLife();else if(this.isLive){this.inLevelData.Life-=t,this.updateLife(),this.isLive=!1;var e=this.node.convertToWorldSpaceAR(cc.v2(0,10));this.emit(c.EventType.BombEvent.playEffect,{type:a.GlobalEnum.EffectType.burst,pos:e}),s.default.put(this.node),this.emit(c.EventType.FoeEvent.die,3)}},e.prototype.meadBullet=function(){var t=s.default.get("Bullet");this.muzzle.addChild(t),t.setPosition(cc.v2(0,0));var e=t.getComponent(l.default);return e.setData({group:this.node.group,ATK:this.inLevelData.ATK}),e},e.prototype.gun_Attack=function(){var t=this.meadBullet();this.emit(c.EventType.PlayerEvent.shot,t)},e.prototype.isShot=function(t){this.isShoting&&(this.shotTime-=t,this.shotTime<0&&(this.shotTime=this.shotSpeed,this.gun_Attack()))},e.prototype.setHorizon=function(t){var e=this.node.getPosition();e.y=t+200,this.setPosition(e)},e.prototype.setlimitX=function(t){var e=this.node.getPosition();e.x=t.x+(this.posD_value-.5)*t.width,this.node.setPosition(e),this.actionLimit=cc.v2(t.x-t.width/2,t.x+t.width/2)},e.prototype.stopAction=function(){this.customStep=this.stepEmpty},e.prototype.yaoDie=function(){if(this.isLive){this.inLevelData.Life=0,this.updateLife(),this.isLive=!1;var t=this.node.convertToWorldSpaceAR(cc.v2(0,10));this.emit(c.EventType.BombEvent.playEffect,{type:a.GlobalEnum.EffectType.burst,pos:t}),s.default.put(this.node),this.emit(c.EventType.FoeEvent.die,3)}},r([f(cc.Node)],e.prototype,"joints",void 0),r([f([cc.SpriteFrame])],e.prototype,"stateSpriteF",void 0),r([f(cc.Sprite)],e.prototype,"spr",void 0),r([f(cc.Node)],e.prototype,"muzzle",void 0),r([u],e)}(p.default);o.default=d,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisComp":"CollisComp","../prefabScr/Bullet":"Bullet"}],Warhead:[function(t,e,o){"use strict";cc._RF.push(e,"69475xJzA9GboszyS/CqiDd","Warhead");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GameEventType"),c=t("../../../Script/GameSpecial/GlobalEnum"),a=t("../CollisComp"),p=cc._decorator,l=p.ccclass,h=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collisType=c.GlobalEnum.CollisType.bullet,e.collisGroup=c.GlobalEnum.collisGroup.palyer,e.ATK=0,e.shellCase=null,e.point=null,e}return n(e,t),e.prototype.setShellCase=function(t){this.shellCase=t},e.prototype.setATK=function(t){this.ATK=t},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(a.default),o=this.point.convertToWorldSpaceAR(cc.v2());if(e){if(e.collisGroup==c.GlobalEnum.collisGroup.ground)this.emit(s.EventType.BombEvent.playEffect,{type:c.GlobalEnum.EffectType.dust,pos:o,data:{minAngle:0,maxAngle:360}});else if(e.collisGroup==c.GlobalEnum.collisGroup.palyer){if(2!=t.tag&&3!=t.tag)return;this.emit(s.EventType.BombEvent.playEffect,{type:c.GlobalEnum.EffectType.flash,pos:o})}this.shellCase.over()}},e.prototype.changeGroup=function(t){this.setgroup(t),this.collisGroup=t},r([h(cc.Node)],e.prototype,"point",void 0),r([l],e)}(a.default);o.default=u,cc._RF.pop()},{"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisComp":"CollisComp"}],Wreckage:[function(t,e,o){"use strict";cc._RF.push(e,"44509A0T3NGd4ahoVCeHSAC","Wreckage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/yyComponent"),c=cc._decorator,a=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainSprF=[],e.otherSprF=[],e.other=null,e.main=null,e.otherNode=[],e.speed=[],e}return n(e,t),e.prototype.init=function(){this.reset()},e.prototype.reset=function(){this.initShow()},e.prototype.reuse=function(){this.reset()},e.prototype.unuse=function(){this.reset()},e.prototype.setData=function(t){t&&(null==t.type&&null==t.type||this.setMainSpr(t.type),t.obj&&t.obj.setWreckage(this))},e.prototype.initShow=function(){this.main.active=!1,this.other.active=!1},e.prototype.setMainSpr=function(t){var e=this.mainSprF[t];this.node.getChildByName("main").getComponent(cc.Sprite).spriteFrame=e},e.prototype.madeOther=function(){var t=Math.floor(Math.random()*this.otherSprF.length),e=this.otherSprF[t],o=cc.instantiate(this.other);return this.node.addChild(o),o.getComponent(cc.Sprite).spriteFrame=e,o},e.prototype.addWreckage=function(){if(!(Math.random()>.4)){var t=this.madeOther();t.active=!0,this.otherNode.push(t);var e=cc.v2(500,0).rotate(3.14*Math.random());this.speed.push(e)}},e.prototype.overShow=function(){this.main.active=!0},e.prototype.update=function(t){for(var e=this.otherNode.length-1;e>=0;e--){var o=this.otherNode[e];if(o&&o.active){this.speed[e].addSelf(cc.v2(0,-640).mul(t));var i=o.getPosition();i.addSelf(this.speed[e].mul(t)),o.setPosition(i),i.y<-50&&(o.active=!1,o.destroy(),this.otherNode.splice(e,1),this.speed.splice(e,1))}}},r([p([cc.SpriteFrame])],e.prototype,"mainSprF",void 0),r([p([cc.SpriteFrame])],e.prototype,"otherSprF",void 0),r([p(cc.Node)],e.prototype,"other",void 0),r([p(cc.Node)],e.prototype,"main",void 0),r([a],e)}(s.default);o.default=l,cc._RF.pop()},{"../../../Script/Common/yyComponent":void 0}]},{},["CollisComp","LevelCamera","LevelManager","MainSceneScr","MyLevelManager","Player","Player1","ControlUI","CusButton","RackerController","Item","Item1","Item10","Item2","Item3","Item4","Item5","Item6","Item7","Item8","Item9","MapGround","MapScene","Blood","Bullet","Bullet1","BulletBox","Burst","Danke","Dust","Flash","Landing","LifeBar","Warhead","Wreckage","Boss","Boss2","Boss3","Fighter","Fighter1","Fighter2","Fighter3","Fighter4","Fighter5","Fighter6","Fighter7","Fighter8","Person","Person1","Person10","Person2","Person3","Person4","Person5","Person6","Person7","Person8","Person9","Suspend1"]);