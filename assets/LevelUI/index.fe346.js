window.__require=function t(e,n,o){function i(c,p){if(!n[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var a="function"==typeof __require&&__require;if(!p&&a)return a(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var l=n[c]={exports:{}};e[c][0].call(l.exports,function(t){return i(e[c][1][t]||t)},l,l.exports,t,e,n,o)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<o.length;c++)i(o[c]);return i}({AwardUI:[function(t,e,n){"use strict";cc._RF.push(e,"9f6b5OOVtlA/7+gEb6aWAOO","AwardUI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Script/Common/BannerToucherButton"),p=t("../../Script/Common/yyComponent"),s=t("../../Script/GameSpecial/AdConfig"),a=t("../../Script/GameSpecial/GameEventType"),l=t("../../Script/GameSpecial/GlobalEnum"),u=cc._decorator,h=u.ccclass,y=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=null,e.goldLabel=null,e.gold=0,e.awarded=!1,e.bannerToucherBtn=null,e}return i(e,t),Object.defineProperty(e.prototype,"uiType",{get:function(){return l.GlobalEnum.UI.awardUI},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.initBannerToucher(),this.initComponents(),this.initGold(),this.onEvents(),t&&this.setData(t)},e.prototype.setData=function(){this.gold=100,this.goldLabel.string=this.gold.toString()},e.prototype.reset=function(){this.resetGold(),this.bannerToucherBtn.reset()},e.prototype.show=function(t){this.reset(),this.node.active=!0,this.emit(a.EventType.UIEvent.enter,l.GlobalEnum.UI.playerAssetBar),t&&t.data&&this.setData(t),t&&t.config?this.bannerToucherBtn.show(t.config):this.bannerToucherBtn.show()},e.prototype.initGold=function(){this.awarded=!1},e.prototype.resetGold=function(){this.awarded=!1},e.prototype.initBannerToucher=function(){this.bannerToucherBtn.init({cb:this.bannerTouchContinueGame.bind(this),target:this,data:null},{id:s.AdConfig.bannerID.win,style:{horizontal:"middle"}})},e.prototype.bannerTouchContinueGame=function(){this.onBtnContinueGame()},e.prototype.onBtnVideo=function(){var t=this;this.emit(a.EventType.AudioEvent.playClickBtn),this.emit(a.EventType.SDKEvent.showVideo,{success:function(){t.addGold(5*t.gold,t.enterWinUI.bind(t))}})},e.prototype.onBtnContinueGame=function(){this.addGold(this.gold,this.enterWinUI.bind(this))},e.prototype.addGold=function(t,e){var n=this;if(!this.awarded){this.awarded=!0,this.emit(a.EventType.UIEvent.enter,l.GlobalEnum.UI.playerAssetBar),this.emit(a.EventType.AudioEvent.playEffect,l.GlobalEnum.AudioClip.gold);var o=this.goldLabel.node.convertToWorldSpaceAR(cc.v2()),i=cc.find("Canvas");o.x-=.5*i.width,o.y-=.5*i.height,this.emit(a.EventType.UIEvent.playGoldAnim,{startPos:o,cb:function(){n.emit(a.EventType.PlayerDataEvent.updatePlayerData,{attribute:"gameData.asset.gold",value:t,mode:"+"}),e&&e()},gold:t})}},e.prototype.enterWinUI=function(){this.emit(a.EventType.UIEvent.exit,l.GlobalEnum.UI.awardUI),this.emit(a.EventType.UIEvent.exit,l.GlobalEnum.UI.playerAssetBar),this.emit(a.EventType.UIEvent.enter,l.GlobalEnum.UI.winUI,this.data)},r([y(cc.Label)],e.prototype,"goldLabel",void 0),r([y(c.default)],e.prototype,"bannerToucherBtn",void 0),r([h],e)}(p.default);n.default=d,cc._RF.pop()},{"../../Script/Common/BannerToucherButton":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/AdConfig":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],ClickTip:[function(t,e,n){"use strict";cc._RF.push(e,"c0a63AnQaVKXYJEneHB8OOB","ClickTip");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Script/Common/yyComponent"),p=cc._decorator,s=p.ccclass,a=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.finishEvent=null,e.click=null,e}return i(e,t),e.prototype.init=function(){this.node.active=!1},e.prototype.reset=function(){this.node.active=!1},e.prototype.show=function(t){if(this.node.active=!0,this.onEvents(),this.click.setPosition(cc.v2()),t){if(t.worldPos){var e=this.node.convertToNodeSpaceAR(t.worldPos);this.click.setPosition(e)}t.eventName&&(this.finishEvent=t.eventName)}},e.prototype.hide=function(){this.node.active=!1,this.offEvents()},e.prototype.onEvents=function(){this.mask.on("touchstart",this.touchStart,this)},e.prototype.offEvents=function(){this.mask.off("touchstart",this.touchStart,this)},e.prototype.touchStart=function(){if(this.finishEvent){var t=this.finishEvent;this.finishEvent=null,this.emit(t)}this.hide()},e.prototype.showClick=function(){this.click.active=!0},e.prototype.hideClick=function(){this.click.active=!0},r([a(cc.Node)],e.prototype,"mask",void 0),r([a(cc.Node)],e.prototype,"click",void 0),r([s],e)}(c.default);n.default=l,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0}],LevelInfoUI:[function(t,e,n){"use strict";cc._RF.push(e,"4393ap5mKNKOIGdbWF8MM3a","LevelInfoUI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Script/Common/yyComponent"),p=t("../../Script/GameSpecial/GlobalEnum"),s=t("../../Script/GameSpecial/GameEventType"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.curLevelLabel=null,e.nextLevelLabel=null,e.levelProgressBar=null,e.curGoldLabel=null,e.curGold=0,e}return i(e,t),Object.defineProperty(e.prototype,"uiType",{get:function(){return p.GlobalEnum.UI.levelInfo},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.initCurGold(),this.initComponents(),this.initProgress(),this.onEvents()},e.prototype.onEvents=function(){},e.prototype.reset=function(){this.resetCurGold(),this.resetProgress()},e.prototype.show=function(t){this.node.active=!0,this.reset(),this.setData(t)},e.prototype.hide=function(){this.reset(),this.node.active=!1},e.prototype.getData=function(){return{speGold:0,gold:this.curGold}},e.prototype.setData=function(t){this.curLevelLabel&&(this.curLevelLabel.string=t.lv.toString()),this.nextLevelLabel&&(this.nextLevelLabel.string=(t.lv+1).toString())},e.prototype.convertToString=function(t){return t<1100?t.toString():t<11e5?(.001*t).toFixed(1)+"K":(1e-6*t).toFixed(1)+"M"},e.prototype.initProgress=function(){this.levelProgressBar&&(this.levelProgressBar.progress=0)},e.prototype.resetProgress=function(){this.levelProgressBar&&(this.levelProgressBar.progress=0)},e.prototype.setProgress=function(t){this.levelProgressBar&&(this.levelProgressBar.progress=t)},e.prototype.initCurGold=function(){this.curGold=0,this.curGoldLabel.string=this.curGold.toString()},e.prototype.resetCurGold=function(){this.curGold=0,this.curGoldLabel.string=this.curGold.toString()},e.prototype.addCurGold=function(t){this.curGold+=t,this.curGoldLabel.string=this.curGold.toString()},e.prototype.onPlayerCollGold=function(){this.addCurGold(1)},e.prototype.onBtnConfigSetting=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.UIEvent.enter,p.GlobalEnum.UI.configSetting)},e.prototype.onBtnPause=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.UIEvent.enter,p.GlobalEnum.UI.pauseLevel)},e.prototype.onBtnReplay=function(){},e.prototype.onBtnLobby=function(){this.emit(s.EventType.DirectorEvent.enterLobby)},e.prototype.onBtnWin=function(){this.emit(s.EventType.LevelEvent.testWin)},e.prototype.onBtnLose=function(){this.emit(s.EventType.LevelEvent.testLose)},r([u(cc.Label)],e.prototype,"curLevelLabel",void 0),r([u(cc.Label)],e.prototype,"nextLevelLabel",void 0),r([u(cc.ProgressBar)],e.prototype,"levelProgressBar",void 0),r([u(cc.Label)],e.prototype,"curGoldLabel",void 0),r([l],e)}(c.default);n.default=h,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],LoseUI:[function(t,e,n){"use strict";cc._RF.push(e,"6f8173lok9Jd7axmbmpArAu","LoseUI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Script/Common/yyComponent"),p=t("../../Script/GameSpecial/GlobalEnum"),s=t("../../Script/GameSpecial/GameEventType"),a=t("../../Script/GameSpecial/AdConfig"),l=t("../../Script/Common/BannerToucherButton"),u=cc._decorator,h=u.ccclass,y=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bannerToucherBtn=null,e}return i(e,t),Object.defineProperty(e.prototype,"uiType",{get:function(){return p.GlobalEnum.UI.loseUI},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.initComponents()},e.prototype.reset=function(){},e.prototype.show=function(t){this.emit(s.EventType.AudioEvent.playEffect,p.GlobalEnum.AudioClip.lose),this.reset(),this.node.active=!0,t&&t.data&&this.setData(t)},e.prototype.initBannerToucher=function(){this.bannerToucherBtn.init({cb:this.bannerTouchContinueGame.bind(this),target:this,data:null},{id:a.AdConfig.bannerID.lose,style:{horizontal:"middle"}})},e.prototype.bannerTouchContinueGame=function(){this.onBtnContinue()},e.prototype.onBtnNextLevel=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.GameFlow.endFirstFlow),this.emit(s.EventType.UIEvent.exit,this.uiType),this.emit(s.EventType.GameFlow.enterLevel)},e.prototype.onBtnContinue=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.GameFlow.endFirstFlow),this.emit(s.EventType.UIEvent.exit,this.uiType),this.emit(s.EventType.GameFlow.enterLevel)},e.prototype.onBtnShop=function(){this.emit(s.EventType.SDKEvent.hideBanner),this.emit(s.EventType.GameFlow.endFirstFlow),this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.UIEvent.exit,this.uiType),this.emit(s.EventType.DirectorEvent.enterLobby,{enterNextUI:"shop"})},e.prototype.onBtnLobby=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.UIEvent.exit,this.uiType),this.emit(s.EventType.GameFlow.endFirstFlow),this.emit(s.EventType.DirectorEvent.enterLobby)},r([y(l.default)],e.prototype,"bannerToucherBtn",void 0),r([h],e)}(c.default);n.default=d,cc._RF.pop()},{"../../Script/Common/BannerToucherButton":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/AdConfig":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],PauseLevelUI:[function(t,e,n){"use strict";cc._RF.push(e,"b580e8N6V1Cj7m8FiIX97vL","PauseLevelUI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Script/Common/yyComponent"),p=t("../../Script/GameSpecial/GameEventType"),s=t("../../Script/GameSpecial/GlobalEnum"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){this.initComponents(),this.node.active=!1},e.prototype.reset=function(){},e.prototype.show=function(){this.node.active||(this.emit(p.EventType.DirectorEvent.pauseLevel),this.emit(p.EventType.SDKEvent.showInsertByPauseLevel)),this.node.active=!0},e.prototype.hide=function(){this.node.active&&this.emit(p.EventType.DirectorEvent.resumeLevel),this.reset(),this.node.active=!1},e.prototype.onBtnLobby=function(){this.emit(p.EventType.AudioEvent.playClickBtn),this.emit(p.EventType.UIEvent.exit,s.GlobalEnum.UI.pauseLevel),this.emit(p.EventType.DirectorEvent.enterLobby)},e.prototype.onBtnResume=function(){this.emit(p.EventType.AudioEvent.playClickBtn),this.emit(p.EventType.UIEvent.exit,s.GlobalEnum.UI.pauseLevel)},e.prototype.onBtnReplay=function(){this.emit(p.EventType.AudioEvent.playClickBtn),this.emit(p.EventType.UIEvent.exit,s.GlobalEnum.UI.pauseLevel),this.emit(p.EventType.DirectorEvent.replayCurLevel)},e.prototype.onBtnMoreGame=function(){this.emit(p.EventType.AudioEvent.playClickBtn),this.emit(p.EventType.RecommendEvent.showLittlePage)},r([l],e)}(c.default));n.default=u,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],ResurgenceUI:[function(t,e,n){"use strict";cc._RF.push(e,"537ef5L6LZFSoQ2QezJLHX7","ResurgenceUI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Script/Common/yyComponent"),p=t("../../Script/GameSpecial/GameEventType"),s=t("../../Script/GameSpecial/GlobalEnum"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnCancel=null,e.curScore=null,e.maxScore=null,e.timer=null,e.t=0,e}return i(e,t),e.prototype.init=function(){this.initComponents(),this.initTimer(),this.hideBtnCancel()},e.prototype.reset=function(){this.resetTimer(),this.hideBtnCancel(),this.unschedule(this.showBtnCancel)},e.prototype.hideBtnCancel=function(){this.btnCancel.active=!1},e.prototype.showBtnCancel=function(){this.btnCancel.active=!0},e.prototype.initTimer=function(){},e.prototype.resetTimer=function(){this.t=10,this.timer.string=this.t.toString(),this.stopTimer()},e.prototype.updateTimer=function(){this.t-=1,this.t<=0&&(this.t=0,this.waitingTimeOver()),this.timer.string=this.t.toString()},e.prototype.waitingTimeOver=function(){this.stopTimer(),this.cancelFuHuo()},e.prototype.startTimer=function(){this.schedule(this.updateTimer,1)},e.prototype.stopTimer=function(){this.unschedule(this.updateTimer)},e.prototype.show=function(){this.node.active=!0,this.reset(),this.scheduleOnce(this.showBtnCancel,2),this.startTimer()},e.prototype.onBtnFuHuo=function(){this.stopTimer(),this.emit(p.EventType.AudioEvent.playClickBtn),this.emit(p.EventType.SDKEvent.showVideo,{success:this.fuHuo.bind(this),fail:this.startTimer.bind(this),quit:this.startTimer.bind(this)})},e.prototype.onBtnCancel=function(){this.emit(p.EventType.AudioEvent.playClickBtn),this.cancelFuHuo()},e.prototype.cancelFuHuo=function(){this.emit(p.EventType.UIEvent.exit,s.GlobalEnum.UI.resurgence),this.emit(p.EventType.LevelEvent.cancelResurgence)},e.prototype.fuHuo=function(){this.emit(p.EventType.UIEvent.exit,s.GlobalEnum.UI.resurgence),this.emit(p.EventType.LevelEvent.resurgence)},r([u(cc.Node)],e.prototype,"btnCancel",void 0),r([u(cc.Label)],e.prototype,"curScore",void 0),r([u(cc.Label)],e.prototype,"maxScore",void 0),r([u(cc.Label)],e.prototype,"timer",void 0),r([l],e)}(c.default);n.default=h,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],WinUI:[function(t,e,n){"use strict";cc._RF.push(e,"d8843No3IJGf4jWUiXUAgX3","WinUI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Script/Common/yyComponent"),p=t("../../Script/GameSpecial/GlobalEnum"),s=t("../../Script/GameSpecial/GameEventType"),a=t("../../Script/GameSpecial/AdConfig"),l=t("../../Script/Common/BannerToucherButton"),u=t("../../MainScene/Image/winAnima/WinAnim"),h=cc._decorator,y=h.ccclass,d=h.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=null,e.anima=null,e.goldLabel=null,e.gold=0,e.awarded=!1,e.bannerToucherBtn=null,e}return i(e,t),Object.defineProperty(e.prototype,"uiType",{get:function(){return p.GlobalEnum.UI.winUI},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.initComponents(),this.initGold(),this.onEvents(),t&&this.setData(t)},e.prototype.reset=function(){this.resetGold()},e.prototype.setData=function(t){this.data=t,this.gold=200,this.goldLabel.string=this.gold.toString()},e.prototype.show=function(t){this.emit(s.EventType.AudioEvent.playEffect,p.GlobalEnum.AudioClip.voiceWin),this.reset(),this.node.active=!0,t&&t.data&&this.setData(t)},e.prototype.initGold=function(){this.awarded=!1},e.prototype.resetGold=function(){this.awarded=!1},e.prototype.initBannerToucher=function(){this.bannerToucherBtn.init({cb:this.bannerTouchContinueGame.bind(this),target:this,data:null},{id:a.AdConfig.bannerID.win,style:{horizontal:"middle"}})},e.prototype.bannerTouchContinueGame=function(){this.onBtnContinueGame()},e.prototype.onBtnVideo=function(){var t=this;this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.SDKEvent.showVideo,{success:function(){t.addGold(2*t.gold,t.nextLevel.bind(t))}})},e.prototype.onBtnContinueGame=function(){this.nextLevel()},e.prototype.addGold=function(t,e){var n=this;if(!this.awarded){this.awarded=!0,this.emit(s.EventType.UIEvent.enter,p.GlobalEnum.UI.playerAssetBar),this.emit(s.EventType.AudioEvent.playEffect,p.GlobalEnum.AudioClip.gold);var o=this.goldLabel.node.convertToWorldSpaceAR(cc.v2()),i=cc.find("Canvas");o.x-=.5*i.width,o.y-=.5*i.height,this.emit(s.EventType.UIEvent.playGoldAnim,{startPos:o,cb:function(){n.emit(s.EventType.UIEvent.exit,p.GlobalEnum.UI.playerAssetBar),n.emit(s.EventType.PlayerDataEvent.updatePlayerData,{attribute:"gameData.asset.gold",value:t,mode:"+"}),e&&e()},gold:t})}},e.prototype.onBtnLobby=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.UIEvent.exit,this.uiType),this.emit(s.EventType.GameFlow.endFirstFlow),this.emit(s.EventType.DirectorEvent.enterLobby)},e.prototype.nextLevel=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.GameFlow.endFirstFlow),this.emit(s.EventType.UIEvent.exit,this.uiType),this.emit(s.EventType.GameFlow.enterLevel)},r([d(u.default)],e.prototype,"anima",void 0),r([d(cc.Label)],e.prototype,"goldLabel",void 0),r([d(l.default)],e.prototype,"bannerToucherBtn",void 0),r([y],e)}(c.default);n.default=v,cc._RF.pop()},{"../../MainScene/Image/winAnima/WinAnim":void 0,"../../Script/Common/BannerToucherButton":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/AdConfig":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}]},{},["AwardUI","ClickTip","LevelInfoUI","LoseUI","PauseLevelUI","ResurgenceUI","WinUI"]);